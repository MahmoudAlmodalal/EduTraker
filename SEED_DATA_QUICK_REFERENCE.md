# Seed Data Quick Reference

## Quick Start

```bash
# Navigate to project directory
cd /home/mahmoud/Desktop/my\ projects/eduTraker/EduTraker

# Seed the database
python3 manage.py seed_data

# Clear existing data and reseed
python3 manage.py seed_data --clear
```

## What You'll Get

| Entity | Count | Details |
|--------|-------|---------|
| Workstreams | 5 | Regional education districts |
| Workstream Managers | 5 | 1 per workstream |
| Schools | 40 | 8 per workstream |
| School Managers | 40 | 1 per school |
| Teachers | 480 | 12 per school |
| Secretaries | 240 | 6 per school |
| Students | 2,000 | 50 per school |
| Guardians | ~1,200 | Linked to students as families |
| Courses | 1,440 | 6 subjects × 6 grades × 40 schools |
| Classrooms | 480 | 2 sections × 6 grades × 40 schools |
| Assignments | ~33,600 | 7 types per course allocation |
| Marks | ~thousands | Student scores on assignments |
| Learning Materials | ~thousands | 2-4 per course |
| Lesson Plans | ~thousands | 3-5 per course |
| Attendance Records | ~thousands | Past 4 weeks of records |
| Notifications | 500 | Various types for all users |
| Messages | 200+ | With threaded replies |
| Support Tickets | 100 | From various users |
| Staff Evaluations | ~hundreds | Manager evaluations of teachers |
| Login History | 1,000 | Login records across users |
| Activity Logs | 1,500 | Audit trail entries |
| System Configs | ~100 | Global, workstream, and school level |
| **Total Users** | **~4,000+** | All with realistic data |

## Default Login

**All users have the same password:**
```
Password123!
```

**Example logins:**

| Role | Email | Password |
|------|-------|----------|
| Workstream Manager | `john.doe.ws@edutracker.com` | `Password123!` |
| School Manager | `jane.smith.sm@edutracker.com` | `Password123!` |
| Teacher | `alice.johnson.t0@edutracker.com` | `Password123!` |
| Secretary | `bob.wilson.sec@edutracker.com` | `Password123!` |
| Student | `charlie.brown.st1234@edutracker.com` | `Password123!` |
| Guardian | `mary.brown.g0@edutracker.com` | `Password123!` |

*Note: Actual names will be randomly generated by Faker*

## Before Running

**Required:**
```bash
# 1. Ensure database is migrated
python3 manage.py migrate

# 2. Verify Faker is installed
pip list | grep Faker
# Should show: Faker==33.1.0
```

## Expected Output

```
Starting database seeding...
✓ Created 5 workstreams
✓ Created 5 workstream managers
✓ Created 8 schools under workstream "North Region Education District"
✓ Created 8 schools under workstream "South Region Education District"
✓ Created 8 schools under workstream "East Region Education District"
✓ Created 8 schools under workstream "West Region Education District"
✓ Created 8 schools under workstream "Central Region Education District"
✓ Created XX system configuration entries
  ✓ School "Riverside Middle School": 1 manager, 12 teachers, 6 secretaries, 50 students, ...
  ... (40 schools total)

Creating cross-school data...
✓ Created 500 notifications
✓ Created 200+ messages with XXX receipts
✓ Created 100 support tickets
✓ Created XXX staff evaluations
✓ Created 1000 login history records
✓ Created 1500 activity logs
======================================================================
Database seeding completed successfully!
======================================================================
Total created:
  - Workstreams: 5
  - Schools: 40
  - Teachers: 480
  - Students: 2000
  - ... (all entities listed)
```

## Verify Data

```bash
python3 manage.py shell
```

```python
from django.contrib.auth import get_user_model
from school.models import School
from workstream.models import WorkStream
from teacher.models import Assignment, Mark, LearningMaterial, LessonPlan

User = get_user_model()

# Count users by role
print(f"Workstream Managers: {User.objects.filter(role='manager_workstream').count()}")
print(f"School Managers: {User.objects.filter(role='manager_school').count()}")
print(f"Teachers: {User.objects.filter(role='teacher').count()}")
print(f"Secretaries: {User.objects.filter(role='secretary').count()}")
print(f"Students: {User.objects.filter(role='student').count()}")
print(f"Guardians: {User.objects.filter(role='guardian').count()}")

# Check schools
print(f"Total Schools: {School.objects.count()}")

# Check workstreams
print(f"Total Workstreams: {WorkStream.objects.count()}")

# Check new entities
print(f"Total Assignments: {Assignment.objects.count()}")
print(f"Total Marks: {Mark.objects.count()}")
print(f"Total Learning Materials: {LearningMaterial.objects.count()}")
print(f"Total Lesson Plans: {LessonPlan.objects.count()}")

# List all schools
for school in School.objects.all():
    print(f"- {school.school_name} (Manager: {school.manager.full_name if school.manager else 'None'})")
```

## Customization

**Change quantities** in `/accounts/management/commands/seed_data.py`:

```python
# Line ~75 - Number of workstreams (default: 5)
workstreams = self.create_workstreams(count=5)

# Line ~85 - Number of schools per workstream (default: 8)
schools = self.create_schools(ws, count=8)

# Staff/students per school
teachers = self.create_teachers(school, count=12)      # default: 12
secretaries = self.create_secretaries(school, count=6)  # default: 6
students = self.create_students(school, grades, count=50) # default: 50
```

## Troubleshooting

| Issue | Solution |
|-------|----------|
| "Table doesn't exist" | Run `python3 manage.py migrate` |
| "Email already exists" | Use `python3 manage.py seed_data --clear` |
| Permission denied | Check database connection and credentials |
| Command not found | Ensure you're in the correct directory |

## Safety Notes

⚠️ **The `--clear` flag will delete:**
- All Workstream Managers
- All School Managers
- All Teachers
- All Secretaries
- All Students
- All Guardians
- All Schools
- All Workstreams
- All Assignments, Marks, Learning Materials, Lesson Plans
- All Attendance Records, Enrollments, Course Allocations
- All Notifications, Messages, Support Tickets
- All Staff Evaluations, Login History, Activity Logs
- All System Configurations

✅ **Safe to use in:** Development, Testing, Staging

❌ **Never use in:** Production (unless you know what you're doing)

## Related Documentation

- Full guide: `DATABASE_SEEDING_GUIDE.md`
- Seeding script: `/accounts/management/commands/seed_data.py`

---

**Last Updated:** 2026-02-14
