# Seed Data Quick Reference

## Quick Start

```bash
# Navigate to project directory
cd /home/mahmoud/Desktop/my\ projects/eduTraker/EduTraker

# Seed the database
python3 manage.py seed_data

# Clear existing data and reseed
python3 manage.py seed_data --clear
```

## What You'll Get

| Entity | Count | Details |
|--------|-------|---------|
| Workstreams | 2 | Regional education districts |
| Workstream Managers | 2 | 1 per workstream |
| Schools | 4 | Under one selected workstream |
| School Managers | 4 | 1 per school |
| Teachers | 12 | 3 per school |
| Secretaries | 12 | 3 per school |
| Students | 20 | 5 per school |
| **Total Users** | **50** | All with realistic data |

## Default Login

**All users have the same password:**
```
Password123!
```

**Example logins:**

| Role | Email | Password |
|------|-------|----------|
| Workstream Manager | `john.doe.ws@edutracker.com` | `Password123!` |
| School Manager | `jane.smith.sm@edutracker.com` | `Password123!` |
| Teacher | `alice.johnson.t@edutracker.com` | `Password123!` |
| Secretary | `bob.wilson.sec@edutracker.com` | `Password123!` |
| Student | `charlie.brown.st1234@edutracker.com` | `Password123!` |

*Note: Actual names will be randomly generated by Faker*

## Before Running

**Required:**
```bash
# 1. Ensure database is migrated
python3 manage.py migrate

# 2. Verify Faker is installed
pip list | grep Faker
# Should show: Faker==33.1.0
```

## Expected Output

```
Starting database seeding...
✓ Created 2 workstreams
✓ Created 2 workstream managers
✓ Created 4 schools under workstream "North Region Education District"
  ✓ School "Springfield Elementary School": 1 manager, 3 teachers, 3 secretaries, 5 students
  ✓ School "Riverside Middle School": 1 manager, 3 teachers, 3 secretaries, 5 students
  ✓ School "Lakeview High School": 1 manager, 3 teachers, 3 secretaries, 5 students
  ✓ School "Oakwood Primary School": 1 manager, 3 teachers, 3 secretaries, 5 students
============================================================
Database seeding completed successfully!
============================================================
Total created:
  - Workstreams: 2
  - Workstream Managers: 2
  - Schools: 4
  - School Managers: 4
  - Teachers: 12
  - Secretaries: 12
  - Students: 20
```

## Verify Data

```bash
python3 manage.py shell
```

```python
from django.contrib.auth import get_user_model
from school.models import School
from workstream.models import WorkStream

User = get_user_model()

# Count users by role
print(f"Workstream Managers: {User.objects.filter(role='manager_workstream').count()}")
print(f"School Managers: {User.objects.filter(role='manager_school').count()}")
print(f"Teachers: {User.objects.filter(role='teacher').count()}")
print(f"Secretaries: {User.objects.filter(role='secretary').count()}")
print(f"Students: {User.objects.filter(role='student').count()}")

# Check schools
print(f"Total Schools: {School.objects.count()}")

# Check workstreams
print(f"Total Workstreams: {WorkStream.objects.count()}")

# List all schools
for school in School.objects.all():
    print(f"- {school.school_name} (Manager: {school.manager.full_name if school.manager else 'None'})")
```

## Customization

**Change quantities** in `/accounts/management/commands/seed_data.py`:

```python
# Line 51 - Number of workstreams (default: 2)
workstreams = self.create_workstreams(count=2)

# Line 57 - Number of schools (default: 4)
schools = self.create_schools(selected_workstream, count=4)

# Lines 77-81 - Staff/students per school
teachers = self.create_teachers(school, count=3)      # default: 3
secretaries = self.create_secretaries(school, count=3)  # default: 3
students = self.create_students(school, grades, count=5) # default: 5
```

## Troubleshooting

| Issue | Solution |
|-------|----------|
| "Table doesn't exist" | Run `python3 manage.py migrate` |
| "Email already exists" | Use `python3 manage.py seed_data --clear` |
| Permission denied | Check database connection and credentials |
| Command not found | Ensure you're in the correct directory |

## Safety Notes

⚠️ **The `--clear` flag will delete:**
- All Workstream Managers
- All School Managers
- All Teachers
- All Secretaries
- All Students
- All Schools
- All Workstreams

✅ **Safe to use in:** Development, Testing, Staging

❌ **Never use in:** Production (unless you know what you're doing)

## Related Documentation

- Full guide: `DATABASE_SEEDING_GUIDE.md`
- Seeding script: `/accounts/management/commands/seed_data.py`

---

**Last Updated:** 2026-02-08
