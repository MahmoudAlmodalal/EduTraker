openapi: 3.0.3
info:
  title: EduTraker API
  version: 1.0.0
  description: API documentation for EduTraker - Educational Management System
paths:
  /api/academic-years/:
    get:
      operationId: academic_years_list
      description: Get all academic years for the specified school.
      summary: List academic years
      parameters:
      - in: query
        name: include_inactive
        schema:
          type: boolean
        description: Include deactivated records
      - in: query
        name: school_id
        schema:
          type: integer
        description: Filter by school ID
      tags:
      - Academic Year Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AcademicYearOutput'
              examples:
                AcademicYearListResponse:
                  value:
                  - - id: 1
                      academic_year_code: 2025-2026
                      school: 1
                      school_name: Global Academy
                      start_date: '2025-09-01'
                      end_date: '2026-06-30'
                      is_active: true
                      created_at: '2025-08-01T00:00:00Z'
                      updated_at: '2025-08-15T10:30:00Z'
                  summary: Academic Year List Response
          description: ''
  /api/academic-years/{academic_year_id}/:
    get:
      operationId: academic_years_detail
      description: Retrieve details of a specific academic year.
      summary: Get academic year details
      parameters:
      - in: path
        name: academic_year_id
        schema:
          type: integer
        description: Academic Year ID
        required: true
      tags:
      - Academic Year Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcademicYearOutput'
              examples:
                AcademicYearDetails:
                  value:
                    id: 1
                    academic_year_code: 2025-2026
                    school: 1
                    school_name: Global Academy
                    start_date: '2025-09-01'
                    end_date: '2026-06-30'
                    is_active: true
                    created_at: '2025-08-01T00:00:00Z'
                    updated_at: '2025-08-15T10:30:00Z'
                  summary: Academic Year Details
          description: ''
        '404':
          description: Academic year not found
  /api/academic-years/{academic_year_id}/activate/:
    post:
      operationId: academic_years_activate_create
      description: Activate a previously deactivated academic year.
      summary: Activate academic year
      parameters:
      - in: path
        name: academic_year_id
        schema:
          type: integer
        description: Academic Year ID
        required: true
      tags:
      - Academic Year Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Academic year activated successfully
        '403':
          description: Permission denied
        '404':
          description: Academic year not found
  /api/academic-years/{academic_year_id}/deactivate/:
    post:
      operationId: academic_years_deactivate_create
      description: Deactivate an academic year (soft delete). This will mark the academic
        year as inactive.
      summary: Deactivate academic year
      parameters:
      - in: path
        name: academic_year_id
        schema:
          type: integer
        description: Academic Year ID
        required: true
      tags:
      - Academic Year Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Academic year deactivated successfully
        '403':
          description: Permission denied
        '404':
          description: Academic year not found
  /api/academic-years/{academic_year_id}/update/:
    put:
      operationId: academic_years_update_update
      description: Update an existing academic year's details.
      summary: Update academic year
      parameters:
      - in: path
        name: academic_year_id
        schema:
          type: integer
        description: Academic Year ID
        required: true
      tags:
      - Academic Year Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AcademicYearUpdateInputRequest'
            examples:
              UpdateAcademicYearRequest:
                value:
                  start_date: '2026-09-15'
                  end_date: '2027-07-15'
                summary: Update Academic Year Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AcademicYearUpdateInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AcademicYearUpdateInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcademicYearOutput'
              examples:
                AcademicYearUpdated:
                  value:
                    id: 1
                    academic_year_code: 2025-2026
                    school: 1
                    school_name: Global Academy
                    start_date: '2026-09-15'
                    end_date: '2027-07-15'
                    is_active: true
                    created_at: '2025-08-01T00:00:00Z'
                    updated_at: '2026-01-17T09:00:00Z'
                  summary: Academic Year Updated
          description: ''
        '400':
          description: Validation error
        '403':
          description: Permission denied
        '404':
          description: Academic year not found
  /api/academic-years/create/:
    post:
      operationId: academic_years_create_create
      description: Create a new academic year for a specified school.
      summary: Create academic year
      tags:
      - Academic Year Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AcademicYearCreateInputRequest'
            examples:
              CreateAcademicYearRequest:
                value:
                  school: 1
                  start_date: '2026-09-01'
                  end_date: '2027-06-30'
                summary: Create Academic Year Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AcademicYearCreateInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AcademicYearCreateInputRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          description: Academic year created successfully
        '400':
          description: Validation error
        '403':
          description: Permission denied
  /api/auth/token/refresh/:
    post:
      operationId: auth_token_refresh_create
      description: |-
        Takes a refresh type JSON web token and returns an access type JSON web
        token if the refresh token is valid.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenRefreshRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenRefreshRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenRefreshRequest'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenRefresh'
          description: ''
  /api/export/:
    post:
      operationId: export_create
      description: Generate and download a report in Excel, CSV, or PDF format. Supports
        generic data or specific report types like "student_performance" or "attendance".
      summary: Export reports to multiple formats
      tags:
      - Reports & Statistics
      - Exports
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                report_type:
                  type: string
                  enum:
                  - generic
                  - student_performance
                  - attendance
                  - student_list
                export_format:
                  type: string
                  enum:
                  - excel
                  - csv
                  - pdf
                  default: excel
                data:
                  type: array
                  items:
                    type: object
                  description: Optional raw data to export (for generic type)
              required:
              - report_type
            examples:
              ExportStudentPerformanceAsPDF:
                value:
                  report_type: student_performance
                  export_format: pdf
                summary: Export Student Performance as PDF
              ExportGenericDataAsCSV:
                value:
                  report_type: generic
                  export_format: csv
                  data:
                  - col1: val1
                    col2: val2
                summary: Export Generic Data as CSV
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: string
                format: binary
          description: File binary stream
        '400':
          description: Invalid parameters or no data
        '403':
          description: Permission denied
  /api/grades/:
    get:
      operationId: grades_list
      description: Get all available grades.
      summary: List grades
      parameters:
      - in: query
        name: include_inactive
        schema:
          type: boolean
        description: Include deactivated records
      - in: query
        name: name
        schema:
          type: string
        description: Filter by name
      - in: query
        name: numeric_level
        schema:
          type: integer
        description: Filter by level
      tags:
      - Grade Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/GradeOutput'
              examples:
                GradeListResponse:
                  value:
                  - - id: 1
                      name: Grade 1
                      numeric_level: 1
                      min_age: 6
                      max_age: 7
                  summary: Grade List Response
          description: ''
  /api/grades/{grade_id}/:
    get:
      operationId: grades_retrieve
      description: Retrieve details of a specific grade.
      summary: Get grade details
      parameters:
      - in: path
        name: grade_id
        schema:
          type: integer
        description: Grade ID
        required: true
      tags:
      - Grade Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GradeOutput'
              examples:
                GradeDetails:
                  value:
                    id: 1
                    name: Grade 1
                    numeric_level: 1
                    min_age: 6
                    max_age: 7
                  summary: Grade Details
          description: ''
    patch:
      operationId: grades_partial_update
      description: Update a grade with partial data.
      summary: Update grade
      parameters:
      - in: path
        name: grade_id
        schema:
          type: integer
        description: Grade ID
        required: true
      tags:
      - Grade Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedGradeInputRequest'
            examples:
              UpdateRequest:
                value:
                  name: Grade 2
                summary: Update Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedGradeInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedGradeInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GradeOutput'
              examples:
                GradeUpdated:
                  value:
                    id: 1
                    name: Grade 2
                    numeric_level: 2
                    min_age: 7
                    max_age: 8
                  summary: Grade Updated
          description: ''
  /api/grades/{grade_id}/activate/:
    post:
      operationId: grades_activate_create
      description: Activate a previously deactivated grade.
      summary: Activate grade
      parameters:
      - in: path
        name: grade_id
        schema:
          type: integer
        description: Grade ID
        required: true
      tags:
      - Grade Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Activated successfully
  /api/grades/{grade_id}/deactivate/:
    post:
      operationId: grades_deactivate_create
      description: Deactivate a grade (soft delete).
      summary: Deactivate grade
      parameters:
      - in: path
        name: grade_id
        schema:
          type: integer
        description: Grade ID
        required: true
      tags:
      - Grade Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Deactivated successfully
  /api/grades/create/:
    post:
      operationId: grades_create_create
      description: Create a new grade. Admin only.
      summary: Create grade
      tags:
      - Grade Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GradeInputRequest'
            examples:
              CreateRequest:
                value:
                  name: Grade 1
                  numeric_level: 1
                  min_age: 6
                  max_age: 7
                summary: Create Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/GradeInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/GradeInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GradeOutput'
              examples:
                GradeCreated:
                  value:
                    id: 10
                    name: Grade 10
                    numeric_level: 10
                    min_age: 15
                    max_age: 16
                  summary: Grade Created
          description: ''
        '400':
          description: Validation error
  /api/guardian/guardians/:
    get:
      operationId: guardian_guardians_list
      description: List guardians.
      summary: List guardians
      parameters:
      - in: query
        name: include_inactive
        schema:
          type: boolean
        description: Include deactivated records
      - in: query
        name: school_id
        schema:
          type: integer
        description: Filter by school
      - in: query
        name: search
        schema:
          type: string
        description: Search by name or email
      tags:
      - Guardian Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/GuardianOutput'
          description: ''
  /api/guardian/guardians/{guardian_id}/:
    get:
      operationId: guardian_guardians_retrieve
      description: Detail API.
      summary: Get guardian details
      parameters:
      - in: path
        name: guardian_id
        schema:
          type: integer
        required: true
      tags:
      - Guardian Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuardianOutput'
          description: ''
    patch:
      operationId: guardian_guardians_partial_update
      description: Detail API.
      summary: Update guardian
      parameters:
      - in: path
        name: guardian_id
        schema:
          type: integer
        required: true
      tags:
      - Guardian Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedGuardianInputRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedGuardianInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedGuardianInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuardianOutput'
          description: ''
  /api/guardian/guardians/{guardian_id}/activate/:
    post:
      operationId: guardian_guardians_activate_create
      description: Activate.
      summary: Activate guardian
      parameters:
      - in: path
        name: guardian_id
        schema:
          type: integer
        required: true
      tags:
      - Guardian Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Activated successfully
  /api/guardian/guardians/{guardian_id}/deactivate/:
    post:
      operationId: guardian_guardians_deactivate_create
      description: Deactivate.
      summary: Deactivate guardian
      parameters:
      - in: path
        name: guardian_id
        schema:
          type: integer
        required: true
      tags:
      - Guardian Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Deactivated successfully
  /api/guardian/guardians/{guardian_id}/students/:
    get:
      operationId: guardian_guardians_students_list
      description: Link student to guardian.
      summary: List linked students
      parameters:
      - in: path
        name: guardian_id
        schema:
          type: integer
        required: true
      tags:
      - Guardian Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/GuardianStudentLinkOutput'
          description: ''
    post:
      operationId: guardian_guardians_students_create
      description: Link student to guardian.
      summary: Link student to guardian
      parameters:
      - in: path
        name: guardian_id
        schema:
          type: integer
        required: true
      tags:
      - Guardian Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GuardianStudentLinkInputRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/GuardianStudentLinkInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/GuardianStudentLinkInputRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuardianStudentLinkOutput'
          description: ''
  /api/guardian/guardians/create/:
    post:
      operationId: guardian_guardians_create_create
      description: Create guardian.
      summary: Create guardian
      tags:
      - Guardian Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GuardianInputRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/GuardianInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/GuardianInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuardianOutput'
          description: ''
  /api/manager/enrollments/{enrollment_id}/:
    get:
      operationId: manager_enrollments_retrieve
      description: Retrieve details of a specific enrollment.
      summary: Get enrollment details
      parameters:
      - in: path
        name: enrollment_id
        schema:
          type: integer
        description: Enrollment ID
        required: true
      tags:
      - Student Enrollment
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EnrollmentOutput'
              examples:
                EnrollmentDetails:
                  value:
                    id: 1
                    student_id: 5
                    student_name: John Student
                    class_room: 1
                    classroom_name: Class 1A
                    academic_year: 1
                    academic_year_code: 2024-2025
                    grade_name: Grade 1
                    status: enrolled
                  summary: Enrollment Details
          description: ''
    patch:
      operationId: manager_enrollments_partial_update
      description: Update an enrollment status.
      summary: Update enrollment
      parameters:
      - in: path
        name: enrollment_id
        schema:
          type: integer
        description: Enrollment ID
        required: true
      tags:
      - Student Enrollment
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedEnrollmentInputRequest'
            examples:
              UpdateRequest:
                value:
                  status: completed
                summary: Update Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedEnrollmentInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedEnrollmentInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EnrollmentOutput'
              examples:
                EnrollmentUpdated:
                  value:
                    id: 1
                    student_id: 5
                    student_name: John Student
                    class_room: 1
                    classroom_name: Class 1A
                    academic_year: 1
                    academic_year_code: 2024-2025
                    grade_name: Grade 1
                    status: completed
                  summary: Enrollment Updated
          description: ''
  /api/manager/enrollments/{enrollment_id}/activate/:
    post:
      operationId: manager_enrollments_activate_create
      description: Activate a previously deactivated enrollment.
      summary: Activate enrollment
      parameters:
      - in: path
        name: enrollment_id
        schema:
          type: integer
        description: Enrollment ID
        required: true
      tags:
      - Student Enrollment
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Activated successfully
  /api/manager/enrollments/{enrollment_id}/deactivate/:
    post:
      operationId: manager_enrollments_deactivate_create
      description: Deactivate an enrollment (soft delete).
      summary: Deactivate enrollment
      parameters:
      - in: path
        name: enrollment_id
        schema:
          type: integer
        description: Enrollment ID
        required: true
      tags:
      - Student Enrollment
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Deactivated successfully
  /api/manager/enrollments/create/:
    post:
      operationId: manager_enrollments_create_create
      description: Create a new student enrollment in a classroom.
      summary: Create enrollment
      tags:
      - Student Enrollment
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EnrollmentInputRequest'
            examples:
              CreateRequest:
                value:
                  student_id: 1
                  class_room_id: 1
                  academic_year_id: 1
                  status: enrolled
                summary: Create Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/EnrollmentInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/EnrollmentInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EnrollmentOutput'
              examples:
                EnrollmentCreated:
                  value:
                    id: 10
                    student_id: 5
                    student_name: John Student
                    class_room: 2
                    classroom_name: Class 2A
                    academic_year: 2
                    academic_year_code: 2025-2026
                    grade_name: Grade 2
                    status: enrolled
                  summary: Enrollment Created
          description: ''
        '400':
          description: Validation error
  /api/manager/staff-evaluations/:
    get:
      operationId: manager_staff_evaluations_list
      description: Get all staff evaluations filtered by permissions.
      summary: List staff evaluations
      parameters:
      - in: query
        name: end_date
        schema:
          type: string
        description: Filter by end date
      - in: query
        name: reviewee_id
        schema:
          type: integer
        description: Filter by reviewee
      - in: query
        name: reviewer_id
        schema:
          type: integer
        description: Filter by reviewer
      - in: query
        name: start_date
        schema:
          type: string
        description: Filter by start date
      tags:
      - Staff Evaluation
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/StaffEvaluationOutput'
              examples:
                EvaluationListResponse:
                  value:
                  - - id: 1
                      reviewer: 2
                      reviewer_name: Jane Manager
                      reviewee: 5
                      reviewee_name: John Teacher
                      evaluation_date: '2026-01-06'
                      rating_score: 4
                      comments: Consistently high performance.
                  summary: Evaluation List Response
          description: ''
  /api/manager/staff-evaluations/{evaluation_id}/:
    get:
      operationId: manager_staff_evaluations_retrieve
      description: Retrieve details of a specific staff evaluation.
      summary: Get evaluation details
      parameters:
      - in: path
        name: evaluation_id
        schema:
          type: integer
        description: Evaluation ID
        required: true
      tags:
      - Staff Evaluation
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StaffEvaluationOutput'
              examples:
                EvaluationDetails:
                  value:
                    id: 1
                    reviewer: 2
                    reviewer_name: Jane Manager
                    reviewee: 5
                    reviewee_name: John Teacher
                    evaluation_date: '2026-01-06'
                    rating_score: 4
                    comments: Consistently high performance.
                  summary: Evaluation Details
          description: ''
    patch:
      operationId: manager_staff_evaluations_partial_update
      description: Update a staff evaluation with partial data.
      summary: Update evaluation
      parameters:
      - in: path
        name: evaluation_id
        schema:
          type: integer
        description: Evaluation ID
        required: true
      tags:
      - Staff Evaluation
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedStaffEvaluationInputRequest'
            examples:
              UpdateRequest:
                value:
                  rating_score: 5
                summary: Update Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedStaffEvaluationInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedStaffEvaluationInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StaffEvaluationOutput'
              examples:
                EvaluationUpdated:
                  value:
                    id: 1
                    reviewer: 2
                    reviewer_name: Jane Manager
                    reviewee: 5
                    reviewee_name: John Teacher
                    evaluation_date: '2026-01-06'
                    rating_score: 5
                    comments: Updated rating to reflect final results.
                  summary: Evaluation Updated
          description: ''
    delete:
      operationId: manager_staff_evaluations_destroy
      description: Delete a staff evaluation permanently.
      summary: Delete evaluation
      parameters:
      - in: path
        name: evaluation_id
        schema:
          type: integer
        description: Evaluation ID
        required: true
      tags:
      - Staff Evaluation
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Deleted successfully
  /api/manager/staff-evaluations/create/:
    post:
      operationId: manager_staff_evaluations_create_create
      description: Create a new staff evaluation.
      summary: Create staff evaluation
      tags:
      - Staff Evaluation
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StaffEvaluationInputRequest'
            examples:
              CreateRequest:
                value:
                  reviewee_id: 5
                  evaluation_date: '2026-01-06'
                  rating_score: 4
                  comments: Good work
                summary: Create Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/StaffEvaluationInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/StaffEvaluationInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StaffEvaluationOutput'
              examples:
                EvaluationCreated:
                  value:
                    id: 10
                    reviewer: 2
                    reviewer_name: Jane Manager
                    reviewee: 5
                    reviewee_name: John Teacher
                    evaluation_date: '2026-01-06'
                    rating_score: 5
                    comments: Excellent contributions this term.
                  summary: Evaluation Created
          description: ''
        '400':
          description: Validation error
  /api/manager/students/:
    get:
      operationId: manager_students_list
      description: Get all students filtered by permissions and filters.
      summary: List students
      parameters:
      - in: query
        name: current_status
        schema:
          type: string
        description: Filter by status
      - in: query
        name: grade_id
        schema:
          type: integer
        description: Filter by grade (via enrollments)
      - in: query
        name: include_inactive
        schema:
          type: boolean
        description: Include deactivated records
      - in: query
        name: school_id
        schema:
          type: integer
        description: Filter by school
      - in: query
        name: search
        schema:
          type: string
        description: Search by name or email
      tags:
      - Student Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/StudentOutput'
              examples:
                StudentListResponse:
                  value:
                  - - user_id: 20
                      email: student1@example.com
                      full_name: John Student
                      is_active: true
                      school_id: 1
                      school_name: Global Academy
                      work_stream_id: 5
                      current_grade:
                        id: 2
                        name: Grade 10
                      date_of_birth: '2010-05-15'
                      admission_date: '2024-09-01'
                      current_status: active
                      address: 123 Study Lane
                      medical_notes: None
                  summary: Student List Response
          description: ''
  /api/manager/students/{student_id}/:
    get:
      operationId: manager_students_retrieve
      description: Retrieve details of a specific student.
      summary: Get student details
      parameters:
      - in: path
        name: student_id
        schema:
          type: integer
        description: Student ID
        required: true
      tags:
      - Student Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StudentOutput'
              examples:
                StudentDetails:
                  value:
                    user_id: 20
                    email: student1@example.com
                    full_name: John Student
                    is_active: true
                    school_id: 1
                    school_name: Global Academy
                    work_stream_id: 5
                    current_grade:
                      id: 2
                      name: Grade 10
                    date_of_birth: '2010-05-15'
                    admission_date: '2024-09-01'
                    current_status: active
                    address: 123 Study Lane
                    medical_notes: None
                  summary: Student Details
          description: ''
    patch:
      operationId: manager_students_partial_update
      description: Update a student with partial data.
      summary: Update student
      parameters:
      - in: path
        name: student_id
        schema:
          type: integer
        description: Student ID
        required: true
      tags:
      - Student Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedStudentInputRequest'
            examples:
              UpdateRequest:
                value:
                  current_status: graduated
                summary: Update Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedStudentInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedStudentInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StudentOutput'
              examples:
                StudentUpdated:
                  value:
                    user_id: 20
                    email: student1@example.com
                    full_name: John Student
                    is_active: true
                    school_id: 1
                    school_name: Global Academy
                    work_stream_id: 5
                    current_grade:
                      id: 2
                      name: Grade 10
                    date_of_birth: '2010-05-15'
                    admission_date: '2024-09-01'
                    current_status: graduated
                    address: 123 Study Lane
                    medical_notes: None
                  summary: Student Updated
          description: ''
  /api/manager/students/{student_id}/activate/:
    post:
      operationId: manager_students_activate_create
      description: Activate a previously deactivated student account.
      summary: Activate student
      parameters:
      - in: path
        name: student_id
        schema:
          type: integer
        description: Student ID
        required: true
      tags:
      - Student Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Activated successfully
  /api/manager/students/{student_id}/deactivate/:
    post:
      operationId: manager_students_deactivate_create
      description: Deactivate a student account (soft delete).
      summary: Deactivate student
      parameters:
      - in: path
        name: student_id
        schema:
          type: integer
        description: Student ID
        required: true
      tags:
      - Student Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Deactivated successfully
  /api/manager/students/{student_id}/enrollments/:
    get:
      operationId: manager_students_enrollments_list
      description: Get all enrollments for a specific student.
      summary: List student enrollments
      parameters:
      - in: query
        name: include_inactive
        schema:
          type: boolean
        description: Include deactivated records
      - in: query
        name: status
        schema:
          type: string
        description: Filter by status
      - in: path
        name: student_id
        schema:
          type: integer
        description: Student ID
        required: true
      tags:
      - Student Enrollment
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/EnrollmentOutput'
              examples:
                EnrollmentListResponse:
                  value:
                  - - id: 1
                      student_id: 5
                      student_name: John Student
                      class_room: 1
                      classroom_name: Class 1A
                      academic_year: 1
                      academic_year_code: 2024-2025
                      grade_name: Grade 1
                      status: enrolled
                  summary: Enrollment List Response
          description: ''
  /api/manager/students/create/:
    post:
      operationId: manager_students_create_create
      description: Create a new student with user account.
      summary: Create student
      tags:
      - Student Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StudentInputRequest'
            examples:
              CreateRequest:
                value:
                  email: student@school.com
                  full_name: John Student
                  password: SecurePass123!
                  school_id: 1
                  grade_id: 1
                  date_of_birth: '2010-01-15'
                  admission_date: '2026-01-01'
                summary: Create Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/StudentInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/StudentInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StudentOutput'
              examples:
                StudentCreated:
                  value:
                    user_id: 21
                    email: alice.young@example.com
                    full_name: Alice Young
                    is_active: true
                    school_id: 1
                    school_name: Global Academy
                    work_stream_id: 5
                    current_grade:
                      id: 2
                      name: Grade 10
                    date_of_birth: '2011-03-20'
                    admission_date: '2026-01-01'
                    current_status: active
                    address: 456 Learn Blvd
                    medical_notes: Asthma
                  summary: Student Created
          description: ''
        '400':
          description: Validation error
  /api/notifications/:
    get:
      operationId: notifications_list
      description: List notifications for the authenticated user.
      summary: List user notifications
      parameters:
      - in: query
        name: is_read
        schema:
          type: boolean
      - in: query
        name: notification_type
        schema:
          type: string
      tags:
      - Notifications
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/NotificationOutput'
          description: ''
  /api/notifications/{id}/:
    get:
      operationId: notifications_retrieve
      description: Get notification details.
      summary: Get notification details
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - Notifications
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotificationOutput'
          description: ''
  /api/notifications/{id}/mark-read/:
    post:
      operationId: notifications_mark_read_create
      description: Mark a notification as read.
      summary: Mark notification as read
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - Notifications
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotificationOutput'
          description: ''
  /api/portal/auth/login/:
    post:
      operationId: portal_auth_login_create
      description: Authenticate portal users (Admin, Workstream Managers) and receive
        JWT tokens.
      summary: Login to portal
      tags:
      - Portal Authentication
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PortalLoginInputRequest'
            examples:
              LoginRequest:
                value:
                  email: admin@test.com
                  password: test1234
                summary: Login Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PortalLoginInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PortalLoginInputRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: Login successful
        '400':
          description: Invalid credentials
        '403':
          description: User not authorized for portal login
  /api/portal/auth/register/:
    post:
      operationId: portal_auth_register_create
      description: Register a new user in the portal with GUEST role. Account requires
        admin approval before login.
      summary: Register a new portal user
      tags:
      - Portal Authentication
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PortalRegisterInputRequest'
            examples:
              RegistrationRequest:
                value:
                  email: newuser@example.com
                  full_name: John Doe
                  password: SecurePass123!
                  password_confirm: SecurePass123!
                summary: Registration Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PortalRegisterInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PortalRegisterInputRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '201':
          description: Registration successful
        '400':
          description: Validation error or email already exists
  /api/school/:
    get:
      operationId: school_retrieve
      description: Get all schools accessible to the current user based on their role
        and permissions.
      summary: List schools
      parameters:
      - in: query
        name: work_stream_id
        schema:
          type: integer
        description: Filter by workstream ID
      tags:
      - School Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SchoolOutput'
              examples:
                SchoolListResponse:
                  value:
                  - - id: 1
                      school_name: Global Academy
                      work_stream: 1
                      work_stream_code: WS-001
                      manager: 5
                      manager_name: John Manager
                      is_active: true
                      created_at: '2026-01-01T00:00:00Z'
                      updated_at: '2026-01-15T10:30:00Z'
                  summary: School List Response
          description: ''
  /api/school/{school_id}/academic-year/{academic_year_id}/classrooms/:
    get:
      operationId: school_academic_year_classrooms_list
      description: Get all classrooms for a specific school and academic year.
      summary: List classrooms
      parameters:
      - in: path
        name: academic_year_id
        schema:
          type: integer
        description: Academic Year ID
        required: true
      - in: query
        name: classroom_name
        schema:
          type: string
        description: Filter by name
      - in: query
        name: grade_id
        schema:
          type: integer
        description: Filter by grade
      - in: query
        name: include_inactive
        schema:
          type: boolean
        description: Include deactivated records
      - in: path
        name: school_id
        schema:
          type: integer
        description: School ID
        required: true
      tags:
      - Classroom Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ClassRoomOutput'
              examples:
                ClassroomListResponse:
                  value:
                  - - id: 1
                      classroom_name: Class 1A
                      school: 1
                      academic_year: 2
                      grade: 3
                      grade_name: Grade 1
                      homeroom_teacher: 5
                      homeroom_teacher_name: John Teacher
                  summary: Classroom List Response
          description: ''
  /api/school/{school_id}/academic-year/{academic_year_id}/classrooms/{classroom_id}/:
    get:
      operationId: school_academic_year_classrooms_retrieve
      description: Retrieve details of a specific classroom.
      summary: Get classroom details
      parameters:
      - in: path
        name: academic_year_id
        schema:
          type: integer
        description: Academic Year ID
        required: true
      - in: path
        name: classroom_id
        schema:
          type: integer
        description: Classroom ID
        required: true
      - in: path
        name: school_id
        schema:
          type: integer
        description: School ID
        required: true
      tags:
      - Classroom Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClassRoomOutput'
              examples:
                ClassroomDetails:
                  value:
                    id: 1
                    classroom_name: Class 1A
                    school: 1
                    academic_year: 2
                    grade: 3
                    grade_name: Grade 1
                    homeroom_teacher: 5
                    homeroom_teacher_name: John Teacher
                  summary: Classroom Details
          description: ''
    patch:
      operationId: school_academic_year_classrooms_partial_update
      description: Update a classroom with partial data.
      summary: Update classroom
      parameters:
      - in: path
        name: academic_year_id
        schema:
          type: integer
        description: Academic Year ID
        required: true
      - in: path
        name: classroom_id
        schema:
          type: integer
        description: Classroom ID
        required: true
      - in: path
        name: school_id
        schema:
          type: integer
        description: School ID
        required: true
      tags:
      - Classroom Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedClassRoomInputRequest'
            examples:
              UpdateRequest:
                value:
                  classroom_name: Class B
                summary: Update Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedClassRoomInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedClassRoomInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClassRoomOutput'
              examples:
                ClassroomUpdated:
                  value:
                    id: 1
                    classroom_name: Class 1B
                    school: 1
                    academic_year: 2
                    grade: 3
                    grade_name: Grade 1
                    homeroom_teacher: 5
                    homeroom_teacher_name: John Teacher
                  summary: Classroom Updated
          description: ''
  /api/school/{school_id}/academic-year/{academic_year_id}/classrooms/{classroom_id}/activate/:
    post:
      operationId: school_academic_year_classrooms_activate_create
      description: Activate a previously deactivated classroom.
      summary: Activate classroom
      parameters:
      - in: path
        name: academic_year_id
        schema:
          type: integer
        description: Academic Year ID
        required: true
      - in: path
        name: classroom_id
        schema:
          type: integer
        description: Classroom ID
        required: true
      - in: path
        name: school_id
        schema:
          type: integer
        description: School ID
        required: true
      tags:
      - Classroom Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Activated successfully
  /api/school/{school_id}/academic-year/{academic_year_id}/classrooms/{classroom_id}/deactivate/:
    post:
      operationId: school_academic_year_classrooms_deactivate_create
      description: Deactivate a classroom (soft delete).
      summary: Deactivate classroom
      parameters:
      - in: path
        name: academic_year_id
        schema:
          type: integer
        description: Academic Year ID
        required: true
      - in: path
        name: classroom_id
        schema:
          type: integer
        description: Classroom ID
        required: true
      - in: path
        name: school_id
        schema:
          type: integer
        description: School ID
        required: true
      tags:
      - Classroom Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Deactivated successfully
  /api/school/{school_id}/academic-year/{academic_year_id}/classrooms/create/:
    post:
      operationId: school_academic_year_classrooms_create_create
      description: Create a new classroom for the specified school and academic year.
      summary: Create classroom
      parameters:
      - in: path
        name: academic_year_id
        schema:
          type: integer
        description: Academic Year ID
        required: true
      - in: path
        name: school_id
        schema:
          type: integer
        description: School ID
        required: true
      tags:
      - Classroom Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ClassRoomInputRequest'
            examples:
              CreateRequest:
                value:
                  grade_id: 1
                  classroom_name: Class A
                  homeroom_teacher_id: 5
                summary: Create Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ClassRoomInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ClassRoomInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClassRoomOutput'
              examples:
                ClassroomCreated:
                  value:
                    id: 10
                    classroom_name: Science Lab A
                    school: 1
                    academic_year: 2
                    grade: 3
                    grade_name: Grade 1
                    homeroom_teacher: 5
                    homeroom_teacher_name: John Teacher
                  summary: Classroom Created
          description: ''
        '400':
          description: Validation error
  /api/school/{school_id}/activate/:
    post:
      operationId: school_activate_create
      description: Activate a previously deactivated school.
      summary: Activate school
      parameters:
      - in: path
        name: school_id
        schema:
          type: integer
        description: School ID
        required: true
      tags:
      - School Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: School activated successfully
        '403':
          description: Permission denied
        '404':
          description: School not found
  /api/school/{school_id}/courses/:
    get:
      operationId: school_courses_list
      description: Get all courses for a specific school.
      summary: List courses
      parameters:
      - in: query
        name: course_code
        schema:
          type: string
        description: Filter by code
      - in: query
        name: grade_id
        schema:
          type: integer
        description: Filter by grade
      - in: query
        name: include_inactive
        schema:
          type: boolean
        description: Include deactivated records
      - in: query
        name: name
        schema:
          type: string
        description: Filter by name
      - in: path
        name: school_id
        schema:
          type: integer
        description: School ID
        required: true
      tags:
      - Course Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CourseOutput'
              examples:
                CourseListResponse:
                  value:
                  - - id: 1
                      course_code: MATH101
                      school: 1
                      grade: 2
                      grade_name: Grade 1
                      name: Mathematics
                  summary: Course List Response
          description: ''
  /api/school/{school_id}/courses/{course_id}/:
    get:
      operationId: school_courses_retrieve
      description: Retrieve details of a specific course.
      summary: Get course details
      parameters:
      - in: path
        name: course_id
        schema:
          type: integer
        description: Course ID
        required: true
      - in: path
        name: school_id
        schema:
          type: integer
        description: School ID
        required: true
      tags:
      - Course Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CourseOutput'
              examples:
                CourseDetails:
                  value:
                    id: 1
                    course_code: MATH101
                    school: 1
                    grade: 2
                    grade_name: Grade 1
                    name: Mathematics
                  summary: Course Details
          description: ''
    patch:
      operationId: school_courses_partial_update
      description: Update a course with partial data.
      summary: Update course
      parameters:
      - in: path
        name: course_id
        schema:
          type: integer
        description: Course ID
        required: true
      - in: path
        name: school_id
        schema:
          type: integer
        description: School ID
        required: true
      tags:
      - Course Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedCourseInputRequest'
            examples:
              UpdateRequest:
                value:
                  name: Advanced Mathematics
                summary: Update Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedCourseInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedCourseInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CourseOutput'
              examples:
                CourseUpdated:
                  value:
                    id: 1
                    course_code: MATH101
                    school: 1
                    grade: 2
                    grade_name: Grade 1
                    name: Advanced Mathematics
                  summary: Course Updated
          description: ''
  /api/school/{school_id}/courses/{course_id}/activate/:
    post:
      operationId: school_courses_activate_create
      description: Activate a previously deactivated course.
      summary: Activate course
      parameters:
      - in: path
        name: course_id
        schema:
          type: integer
        description: Course ID
        required: true
      - in: path
        name: school_id
        schema:
          type: integer
        description: School ID
        required: true
      tags:
      - Course Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Activated successfully
  /api/school/{school_id}/courses/{course_id}/deactivate/:
    post:
      operationId: school_courses_deactivate_create
      description: Deactivate a course (soft delete).
      summary: Deactivate course
      parameters:
      - in: path
        name: course_id
        schema:
          type: integer
        description: Course ID
        required: true
      - in: path
        name: school_id
        schema:
          type: integer
        description: School ID
        required: true
      tags:
      - Course Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Deactivated successfully
  /api/school/{school_id}/courses/create/:
    post:
      operationId: school_courses_create_create
      description: Create a new course for the specified school.
      summary: Create course
      parameters:
      - in: path
        name: school_id
        schema:
          type: integer
        description: School ID
        required: true
      tags:
      - Course Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CourseInputRequest'
            examples:
              CreateRequest:
                value:
                  grade_id: 1
                  course_code: MATH101
                  name: Mathematics
                summary: Create Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CourseInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CourseInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CourseOutput'
              examples:
                CourseCreated:
                  value:
                    id: 10
                    course_code: SCI201
                    school: 1
                    grade: 3
                    grade_name: Grade 2
                    name: Science
                  summary: Course Created
          description: ''
        '400':
          description: Validation error
  /api/school/{school_id}/deactivate/:
    post:
      operationId: school_deactivate_create
      description: Deactivate a school (soft delete). This will mark the school as
        inactive.
      summary: Deactivate school
      parameters:
      - in: path
        name: school_id
        schema:
          type: integer
        description: School ID
        required: true
      tags:
      - School Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: School deactivated successfully
        '403':
          description: Permission denied
        '404':
          description: School not found
  /api/school/{school_id}/update/:
    put:
      operationId: school_update_update
      description: Update an existing school's details.
      summary: Update school
      parameters:
      - in: path
        name: school_id
        schema:
          type: integer
        description: School ID
        required: true
      tags:
      - School Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SchoolUpdateInputRequest'
            examples:
              UpdateSchoolRequest:
                value:
                  school_name: Updated Academy Name
                summary: Update School Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SchoolUpdateInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SchoolUpdateInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: School updated successfully
        '400':
          description: Validation error
        '403':
          description: Permission denied
        '404':
          description: School not found
  /api/school/create/:
    post:
      operationId: school_create_create
      description: Create a new school within a specified workstream.
      summary: Create school
      tags:
      - School Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SchoolCreateInputRequest'
            examples:
              CreateSchoolRequest:
                value:
                  school_name: New Academy
                  work_stream: 1
                summary: Create School Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SchoolCreateInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SchoolCreateInputRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          description: School created successfully
        '400':
          description: Validation error
        '403':
          description: Permission denied
  /api/secretary/:
    get:
      operationId: secretary_list
      description: Get all secretaries filtered by permissions.
      summary: List secretaries
      parameters:
      - in: query
        name: department
        schema:
          type: string
        description: Filter by department
      - in: query
        name: school_id
        schema:
          type: integer
        description: Filter by school
      - in: query
        name: search
        schema:
          type: string
        description: Search by name or email
      tags:
      - Secretary
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SecretaryOutput'
              examples:
                SecretaryListResponse:
                  value:
                  - - user_id: 10
                      email: jane.doe@school.com
                      full_name: Jane Doe
                      is_active: true
                      school_name: West Side Academy
                      department: Administration
                      office_number: A-101
                      hire_date: '2024-01-15'
                  summary: Secretary List Response
          description: ''
  /api/secretary/{secretary_id}/:
    get:
      operationId: secretary_retrieve
      description: Retrieve details of a specific secretary.
      summary: Get secretary details
      parameters:
      - in: path
        name: secretary_id
        schema:
          type: integer
        description: Secretary user ID
        required: true
      tags:
      - Secretary
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SecretaryOutput'
              examples:
                SecretaryDetails:
                  value:
                    user_id: 10
                    email: jane.doe@school.com
                    full_name: Jane Doe
                    is_active: true
                    school_name: West Side Academy
                    department: Administration
                    office_number: A-101
                    hire_date: '2024-01-15'
                  summary: Secretary Details
          description: ''
    patch:
      operationId: secretary_partial_update
      description: Update a secretary with partial data.
      summary: Update secretary
      parameters:
      - in: path
        name: secretary_id
        schema:
          type: integer
        description: Secretary user ID
        required: true
      tags:
      - Secretary
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedSecretaryInputRequest'
            examples:
              UpdateRequest:
                value:
                  department: Records
                summary: Update Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedSecretaryInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedSecretaryInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SecretaryOutput'
              examples:
                SecretaryUpdated:
                  value:
                    user_id: 10
                    email: jane.doe@school.com
                    full_name: Jane Doe
                    is_active: true
                    school_name: West Side Academy
                    department: Operations
                    office_number: A-102
                    hire_date: '2024-01-15'
                  summary: Secretary Updated
          description: ''
    delete:
      operationId: secretary_destroy
      description: Delete is not allowed. Use deactivate endpoint instead.
      summary: Delete secretary
      parameters:
      - in: path
        name: secretary_id
        schema:
          type: integer
        description: Secretary user ID
        required: true
      tags:
      - Secretary
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '405':
          description: Use deactivate endpoint instead
  /api/secretary/{secretary_id}/deactivate/:
    post:
      operationId: secretary_deactivate_create
      description: Deactivate a secretary account (soft delete).
      summary: Deactivate secretary
      parameters:
      - in: path
        name: secretary_id
        schema:
          type: integer
        description: Secretary user ID
        required: true
      tags:
      - Secretary
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                SecretaryDeactivated:
                  value:
                    detail: Secretary deactivated successfully.
                  summary: Secretary Deactivated
          description: Secretary deactivated successfully
  /api/secretary/create/:
    post:
      operationId: secretary_create_create
      description: Create a new secretary user and profile.
      summary: Create secretary
      tags:
      - Secretary
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SecretaryInputRequest'
            examples:
              CreateRequest:
                value:
                  email: secretary@school.com
                  full_name: Jane Doe
                  password: SecurePass123!
                  school_id: 1
                  department: Administration
                  hire_date: '2026-01-01'
                summary: Create Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SecretaryInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SecretaryInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SecretaryOutput'
              examples:
                SecretaryCreated:
                  value:
                    user_id: 11
                    email: mark.smith@school.com
                    full_name: Mark Smith
                    is_active: true
                    school_name: West Side Academy
                    department: Records
                    office_number: B-201
                    hire_date: '2026-02-01'
                  summary: Secretary Created
          description: ''
        '400':
          description: Validation error
  /api/statistics/classroom/{classroom_id}/:
    get:
      operationId: statistics_classroom_retrieve
      description: Returns total student count for a specific classroom.
      summary: Get student count by classroom
      parameters:
      - in: path
        name: classroom_id
        schema:
          type: integer
        description: Classroom ID
        required: true
      tags:
      - Reports & Statistics
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClassroomStudentCount'
              examples:
                ClassroomStatsResponse:
                  value:
                    classroom_id: 1
                    classroom_name: 1A
                    total_students: 25
                  summary: Classroom Stats Response
          description: ''
        '403':
          description: Permission Denied
        '404':
          description: Classroom not found
  /api/statistics/comprehensive/:
    get:
      operationId: statistics_comprehensive_retrieve
      description: Get statistics tailored to the authenticated user role.
      summary: Get comprehensive statistics
      tags:
      - Reports & Statistics
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ComprehensiveStatistics'
              examples:
                ComprehensiveStatsResponse:
                  value:
                    role: admin
                    generated_at: '2026-01-06T12:00:00Z'
                    statistics:
                      total_students: 5000
                      total_teachers: 200
                  summary: Comprehensive Stats Response
          description: ''
        '403':
          description: Permission Denied
  /api/statistics/course/{course_id}/:
    get:
      operationId: statistics_course_retrieve
      description: Returns student count and breakdown by classroom for a specific
        course.
      summary: Get student count by course
      parameters:
      - in: path
        name: course_id
        schema:
          type: integer
        description: Course ID
        required: true
      tags:
      - Reports & Statistics
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CourseStudentCount'
              examples:
                CourseStatsResponse:
                  value:
                    course_id: 1
                    course_name: Mathematics 101
                    total_students: 150
                    by_classroom:
                    - classroom_id: 1
                      classroom_name: 1A
                      count: 25
                  summary: Course Stats Response
          description: ''
        '403':
          description: Permission Denied
        '404':
          description: Course not found
  /api/statistics/dashboard/:
    get:
      operationId: statistics_dashboard_retrieve
      description: Get quick statistics for the dashboard based on user role.
      summary: Get dashboard statistics
      tags:
      - Reports & Statistics
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DashboardStatistics'
              examples:
                DashboardStatsResponse:
                  value:
                    role: teacher
                    statistics:
                      teacher_name: John Teacher
                      total_students: 45
                      course_count: 2
                      classroom_count: 2
                  summary: Dashboard Stats Response
          description: ''
        '400':
          description: Error processing request
  /api/statistics/school-manager/{manager_id}/:
    get:
      operationId: statistics_school_manager_retrieve
      description: Returns student count across all schools managed by a specific
        school manager.
      summary: Get student count by school manager
      parameters:
      - in: path
        name: manager_id
        schema:
          type: integer
        description: Manager User ID
        required: true
      tags:
      - Reports & Statistics
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: Manager stats
        '403':
          description: Permission Denied
        '404':
          description: Manager not found
  /api/statistics/school/{school_id}/:
    get:
      operationId: statistics_school_retrieve
      description: Returns student count and breakdown by grade/classroom for a specific
        school.
      summary: Get student count by school
      parameters:
      - in: path
        name: school_id
        schema:
          type: integer
        description: School ID
        required: true
      tags:
      - Reports & Statistics
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SchoolStudentCount'
              examples:
                SchoolStatsResponse:
                  value:
                    school_id: 1
                    school_name: West School
                    total_students: 300
                    by_grade:
                    - grade_id: 1
                      grade_name: Grade 1
                      count: 50
                    by_classroom:
                    - classroom_id: 1
                      classroom_name: 1A
                      count: 25
                  summary: School Stats Response
          description: ''
        '403':
          description: Permission Denied
        '404':
          description: School not found
  /api/statistics/teacher/{teacher_id}/:
    get:
      operationId: statistics_teacher_retrieve
      description: Returns student count and breakdown by course/classroom for a specific
        teacher.
      summary: Get student count by teacher
      parameters:
      - in: path
        name: teacher_id
        schema:
          type: integer
        description: Teacher User ID
        required: true
      tags:
      - Reports & Statistics
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeacherStudentCount'
              examples:
                TeacherStatsResponse:
                  value:
                    teacher_id: 5
                    teacher_name: John Teacher
                    total_students: 45
                    by_course:
                    - course_id: 1
                      course_name: Math
                      count: 25
                    by_classroom:
                    - classroom_id: 1
                      classroom_name: 1A
                      count: 25
                  summary: Teacher Stats Response
          description: ''
        '403':
          description: Permission Denied
        '404':
          description: Teacher not found
  /api/statistics/workstream/{workstream_id}/:
    get:
      operationId: statistics_workstream_retrieve
      description: Returns student count and breakdown by school for a specific workstream.
      summary: Get student count by workstream
      parameters:
      - in: path
        name: workstream_id
        schema:
          type: integer
        description: Workstream ID
        required: true
      tags:
      - Reports & Statistics
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WorkstreamStudentCount'
              examples:
                WorkstreamStatsResponse:
                  value:
                    workstream_id: 1
                    workstream_name: Primary Education
                    total_students: 1200
                    school_count: 5
                    by_school:
                    - school_id: 1
                      school_name: West School
                      count: 300
                  summary: Workstream Stats Response
          description: ''
        '403':
          description: Permission Denied
        '404':
          description: Workstream not found
  /api/system-config/:
    get:
      operationId: system_config_list
      description: List all system configurations or create a new one. Filterable
        by scope, school, and workstream.
      summary: List and create configurations
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - in: query
        name: school
        schema:
          type: integer
        description: Filter by school ID
      - in: query
        name: scope
        schema:
          type: string
          enum:
          - global
          - school
          - workstream
        description: Filter by scope
      - in: query
        name: search
        schema:
          type: string
        description: Search by config key
      - in: query
        name: work_stream
        schema:
          type: integer
        description: Filter by workstream ID
      tags:
      - System Configuration
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedSystemConfigurationList'
          description: ''
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedSystemConfigurationList'
          description: ''
    post:
      operationId: system_config_create
      description: List all system configurations or create a new one. Filterable
        by scope, school, and workstream.
      summary: List and create configurations
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - in: query
        name: school
        schema:
          type: integer
        description: Filter by school ID
      - in: query
        name: scope
        schema:
          type: string
          enum:
          - global
          - school
          - workstream
        description: Filter by scope
      - in: query
        name: search
        schema:
          type: string
        description: Search by config key
      - in: query
        name: work_stream
        schema:
          type: integer
        description: Filter by workstream ID
      tags:
      - System Configuration
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SystemConfigurationRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SystemConfigurationRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SystemConfigurationRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedSystemConfigurationList'
          description: ''
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SystemConfiguration'
          description: ''
  /api/system-config/{id}/:
    get:
      operationId: system_config_retrieve
      description: Manage a specific system configuration.
      summary: Retrieve, update or delete configuration
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - System Configuration
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SystemConfiguration'
          description: ''
        '204':
          description: Deleted successfully
    put:
      operationId: system_config_update
      description: Manage a specific system configuration.
      summary: Retrieve, update or delete configuration
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - System Configuration
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SystemConfigurationRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SystemConfigurationRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SystemConfigurationRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SystemConfiguration'
          description: ''
        '204':
          description: Deleted successfully
    patch:
      operationId: system_config_partial_update
      description: Manage a specific system configuration.
      summary: Retrieve, update or delete configuration
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - System Configuration
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedSystemConfigurationRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedSystemConfigurationRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedSystemConfigurationRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SystemConfiguration'
          description: ''
        '204':
          description: Deleted successfully
    delete:
      operationId: system_config_destroy
      description: Manage a specific system configuration.
      summary: Retrieve, update or delete configuration
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - System Configuration
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SystemConfiguration'
          description: ''
        '204':
          description: Deleted successfully
  /api/teacher/assignments/:
    get:
      operationId: teacher_assignments_list
      description: Get assignments with optional filtering and RBAC.
      summary: List assignments
      parameters:
      - in: query
        name: due_date_from
        schema:
          type: string
        description: Filter by due date from
      - in: query
        name: due_date_to
        schema:
          type: string
        description: Filter by due date to
      - in: query
        name: exam_type
        schema:
          type: string
        description: Filter by exam type
      - in: query
        name: include_inactive
        schema:
          type: boolean
        description: Include deactivated records
      - in: query
        name: title
        schema:
          type: string
        description: Filter by title
      tags:
      - Teacher - Assignments
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AssignmentOutput'
              examples:
                AssignmentListResponse:
                  value:
                  - - id: 1
                      assignment_code: ASN-A1B2C3D4
                      created_by: 1
                      created_by_name: John Smith
                      title: Mathematics Quiz 1
                      description: Basic algebra quiz
                      due_date: '2026-02-15'
                      exam_type: quiz
                      exam_type_display: Quiz
                      full_mark: '100.00'
                  summary: Assignment List Response
          description: ''
    post:
      operationId: teacher_assignments_create
      description: Create a new assignment. Must be a teacher.
      summary: Create assignment
      tags:
      - Teacher - Assignments
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AssignmentInputRequest'
            examples:
              CreateAssignmentRequest:
                value:
                  title: Mathematics Quiz 1
                  description: Basic algebra quiz covering chapters 1-3
                  due_date: '2026-02-15'
                  exam_type: quiz
                  full_mark: '100.00'
                summary: Create Assignment Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AssignmentInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AssignmentInputRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssignmentOutput'
          description: ''
        '400':
          description: Validation error
        '403':
          description: Permission denied - not a teacher
  /api/teacher/assignments/{assignment_id}/:
    get:
      operationId: teacher_assignment_retrieve
      description: Retrieve details of a specific assignment.
      summary: Get assignment details
      parameters:
      - in: path
        name: assignment_id
        schema:
          type: integer
        description: Assignment ID
        required: true
      tags:
      - Teacher - Assignments
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssignmentOutput'
          description: ''
    patch:
      operationId: teacher_assignments_partial_update
      description: Update an existing assignment with partial data.
      summary: Update assignment
      parameters:
      - in: path
        name: assignment_id
        schema:
          type: integer
        description: Assignment ID
        required: true
      tags:
      - Teacher - Assignments
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedAssignmentUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedAssignmentUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedAssignmentUpdateRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssignmentOutput'
          description: ''
  /api/teacher/assignments/{assignment_id}/activate/:
    post:
      operationId: teacher_assignments_activate_create
      description: Activate a previously deactivated assignment.
      summary: Activate assignment
      parameters:
      - in: path
        name: assignment_id
        schema:
          type: integer
        description: Assignment ID
        required: true
      tags:
      - Teacher - Assignments
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Activated successfully
  /api/teacher/assignments/{assignment_id}/deactivate/:
    post:
      operationId: teacher_assignments_deactivate_create
      description: Deactivate an assignment (soft delete).
      summary: Deactivate assignment
      parameters:
      - in: path
        name: assignment_id
        schema:
          type: integer
        description: Assignment ID
        required: true
      tags:
      - Teacher - Assignments
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Deactivated successfully
  /api/teacher/attendance/:
    get:
      operationId: teacher_attendance_list
      description: List attendance records.
      summary: List attendance records
      parameters:
      - in: query
        name: course_allocation_id
        schema:
          type: integer
      - in: query
        name: date_from
        schema:
          type: string
      - in: query
        name: date_to
        schema:
          type: string
      - in: query
        name: include_inactive
        schema:
          type: boolean
      - in: query
        name: status
        schema:
          type: string
      - in: query
        name: student_id
        schema:
          type: integer
      tags:
      - Teacher - Attendance
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AttendanceOutput'
          description: ''
  /api/teacher/attendance/{attendance_id}/:
    get:
      operationId: teacher_attendance_retrieve
      description: Attendance Detail.
      summary: Get attendance record
      parameters:
      - in: path
        name: attendance_id
        schema:
          type: integer
        required: true
      tags:
      - Teacher - Attendance
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AttendanceOutput'
          description: ''
  /api/teacher/attendance/{attendance_id}/activate/:
    post:
      operationId: teacher_attendance_activate_create
      description: Activate.
      summary: Activate attendance record
      parameters:
      - in: path
        name: attendance_id
        schema:
          type: integer
        required: true
      tags:
      - Teacher - Attendance
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Activated successfully
  /api/teacher/attendance/{attendance_id}/deactivate/:
    post:
      operationId: teacher_attendance_deactivate_create
      description: Deactivate.
      summary: Deactivate attendance record
      parameters:
      - in: path
        name: attendance_id
        schema:
          type: integer
        required: true
      tags:
      - Teacher - Attendance
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Deactivated successfully
  /api/teacher/attendance/record/:
    post:
      operationId: teacher_attendance_record_create
      description: Record attendance.
      summary: Record attendance
      tags:
      - Teacher - Attendance
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AttendanceInputRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AttendanceInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AttendanceInputRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AttendanceOutput'
          description: ''
  /api/teacher/learning-materials/:
    get:
      operationId: teacher_learning_materials_list
      description: List learning materials filtered by course, classroom, or academic
        year. Teachers can upload new materials.
      summary: List and create learning materials
      parameters:
      - in: query
        name: academic_year
        schema:
          type: integer
        description: Filter by academic year ID
      - in: query
        name: classroom
        schema:
          type: integer
        description: Filter by classroom ID
      - in: query
        name: course
        schema:
          type: integer
        description: Filter by course ID
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - in: query
        name: search
        schema:
          type: string
        description: Search by title or description
      tags:
      - Teacher - Learning Materials
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedLearningMaterialList'
          description: ''
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedLearningMaterialList'
          description: ''
    post:
      operationId: teacher_learning_materials_create
      description: List learning materials filtered by course, classroom, or academic
        year. Teachers can upload new materials.
      summary: List and create learning materials
      parameters:
      - in: query
        name: academic_year
        schema:
          type: integer
        description: Filter by academic year ID
      - in: query
        name: classroom
        schema:
          type: integer
        description: Filter by classroom ID
      - in: query
        name: course
        schema:
          type: integer
        description: Filter by course ID
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - in: query
        name: search
        schema:
          type: string
        description: Search by title or description
      tags:
      - Teacher - Learning Materials
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LearningMaterialRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/LearningMaterialRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/LearningMaterialRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedLearningMaterialList'
          description: ''
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LearningMaterial'
          description: ''
  /api/teacher/learning-materials/{id}/:
    get:
      operationId: teacher_learning_materials_retrieve
      description: Manage a specific learning material. Teachers can only manage their
        own materials.
      summary: Retrieve, update or delete learning material
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - Teacher - Learning Materials
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LearningMaterial'
          description: ''
        '204':
          description: Deleted successfully
    put:
      operationId: teacher_learning_materials_update
      description: Manage a specific learning material. Teachers can only manage their
        own materials.
      summary: Retrieve, update or delete learning material
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - Teacher - Learning Materials
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LearningMaterialRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/LearningMaterialRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/LearningMaterialRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LearningMaterial'
          description: ''
        '204':
          description: Deleted successfully
    patch:
      operationId: teacher_learning_materials_partial_update
      description: Manage a specific learning material. Teachers can only manage their
        own materials.
      summary: Retrieve, update or delete learning material
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - Teacher - Learning Materials
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedLearningMaterialRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedLearningMaterialRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedLearningMaterialRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LearningMaterial'
          description: ''
        '204':
          description: Deleted successfully
    delete:
      operationId: teacher_learning_materials_destroy
      description: Manage a specific learning material. Teachers can only manage their
        own materials.
      summary: Retrieve, update or delete learning material
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - Teacher - Learning Materials
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LearningMaterial'
          description: ''
        '204':
          description: Deleted successfully
  /api/teacher/lesson-plans/:
    get:
      operationId: teacher_lesson_plans_list
      description: |-
        List all lesson plans or create a new one.
        Teachers can only create lesson plans for themselves.
      summary: List and create lesson plans
      parameters:
      - in: query
        name: academic_year
        schema:
          type: integer
        description: Filter by academic year ID
      - in: query
        name: classroom
        schema:
          type: integer
        description: Filter by classroom ID
      - in: query
        name: course
        schema:
          type: integer
        description: Filter by course ID
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      tags:
      - Teacher - Lesson Plans
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedLessonPlanList'
          description: ''
    post:
      operationId: teacher_lesson_plans_create
      description: |-
        List all lesson plans or create a new one.
        Teachers can only create lesson plans for themselves.
      summary: List and create lesson plans
      parameters:
      - in: query
        name: academic_year
        schema:
          type: integer
        description: Filter by academic year ID
      - in: query
        name: classroom
        schema:
          type: integer
        description: Filter by classroom ID
      - in: query
        name: course
        schema:
          type: integer
        description: Filter by course ID
      tags:
      - Teacher - Lesson Plans
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LessonPlanRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/LessonPlanRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/LessonPlanRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LessonPlan'
          description: ''
  /api/teacher/lesson-plans/{id}/:
    get:
      operationId: teacher_lesson_plans_retrieve
      description: Retrieve, update or delete a lesson plan instance.
      summary: Retrieve, update or delete a lesson plan
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - Teacher - Lesson Plans
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LessonPlan'
          description: ''
    put:
      operationId: teacher_lesson_plans_update
      description: Retrieve, update or delete a lesson plan instance.
      summary: Retrieve, update or delete a lesson plan
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - Teacher - Lesson Plans
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LessonPlanRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/LessonPlanRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/LessonPlanRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LessonPlan'
          description: ''
    patch:
      operationId: teacher_lesson_plans_partial_update
      description: Retrieve, update or delete a lesson plan instance.
      summary: Retrieve, update or delete a lesson plan
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - Teacher - Lesson Plans
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedLessonPlanRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedLessonPlanRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedLessonPlanRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LessonPlan'
          description: ''
    delete:
      operationId: teacher_lesson_plans_destroy
      description: Retrieve, update or delete a lesson plan instance.
      summary: Retrieve, update or delete a lesson plan
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - Teacher - Lesson Plans
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: No response body
  /api/teacher/marks/:
    get:
      operationId: teacher_marks_list
      description: List marks.
      summary: List mark records
      parameters:
      - in: query
        name: assignment_id
        schema:
          type: integer
      - in: query
        name: include_inactive
        schema:
          type: boolean
      - in: query
        name: student_id
        schema:
          type: integer
      tags:
      - Teacher - Marks
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/MarkOutput'
          description: ''
  /api/teacher/marks/{mark_id}/:
    get:
      operationId: teacher_marks_retrieve
      description: Mark Detail.
      summary: Get mark record
      parameters:
      - in: path
        name: mark_id
        schema:
          type: integer
        required: true
      tags:
      - Teacher - Marks
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MarkOutput'
          description: ''
  /api/teacher/marks/{mark_id}/activate/:
    post:
      operationId: teacher_marks_activate_create
      description: Activate.
      summary: Activate mark record
      parameters:
      - in: path
        name: mark_id
        schema:
          type: integer
        required: true
      tags:
      - Teacher - Marks
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Activated successfully
  /api/teacher/marks/{mark_id}/deactivate/:
    post:
      operationId: teacher_marks_deactivate_create
      description: Deactivate.
      summary: Deactivate mark record
      parameters:
      - in: path
        name: mark_id
        schema:
          type: integer
        required: true
      tags:
      - Teacher - Marks
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Deactivated successfully
  /api/teacher/marks/record/:
    post:
      operationId: teacher_marks_record_create
      description: Record mark.
      summary: Record mark
      tags:
      - Teacher - Marks
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MarkInputRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/MarkInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/MarkInputRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MarkOutput'
          description: ''
  /api/teacher/teachers/:
    get:
      operationId: teacher_teachers_list
      description: Get all teachers filtered by permissions and filters.
      summary: List teachers
      parameters:
      - in: query
        name: include_inactive
        schema:
          type: boolean
        description: Include deactivated records
      - in: query
        name: school_id
        schema:
          type: integer
        description: Filter by school
      - in: query
        name: search
        schema:
          type: string
        description: Search by name or email
      - in: query
        name: specialization
        schema:
          type: string
        description: Filter by specialization
      tags:
      - Teacher Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TeacherOutput'
              examples:
                TeacherListResponse:
                  value:
                  - - user_id: 30
                      email: teacher1@example.com
                      full_name: Jane Teacher
                      is_active: true
                      school_id: 1
                      school_name: Global Academy
                      specialization: Mathematics
                      hire_date: '2020-08-15'
                      employment_status: full_time
                  summary: Teacher List Response
          description: ''
  /api/teacher/teachers/{teacher_id}/:
    get:
      operationId: teacher_teachers_retrieve
      description: Retrieve details of a specific teacher.
      summary: Get teacher details
      parameters:
      - in: path
        name: teacher_id
        schema:
          type: integer
        description: Teacher ID
        required: true
      tags:
      - Teacher Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeacherOutput'
              examples:
                TeacherDetails:
                  value:
                    user_id: 30
                    email: teacher1@example.com
                    full_name: Jane Teacher
                    is_active: true
                    school_id: 1
                    school_name: Global Academy
                    specialization: Mathematics
                    hire_date: '2020-08-15'
                    employment_status: full_time
                  summary: Teacher Details
          description: ''
    patch:
      operationId: teacher_teachers_partial_update
      description: Update a teacher with partial data.
      summary: Update teacher
      parameters:
      - in: path
        name: teacher_id
        schema:
          type: integer
        description: Teacher ID
        required: true
      tags:
      - Teacher Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedTeacherInputRequest'
            examples:
              UpdateRequest:
                value:
                  specialization: Physics
                summary: Update Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedTeacherInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedTeacherInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeacherOutput'
              examples:
                TeacherUpdated:
                  value:
                    user_id: 30
                    email: teacher1@example.com
                    full_name: Jane Teacher
                    is_active: true
                    school_id: 1
                    school_name: Global Academy
                    specialization: Physics
                    hire_date: '2020-08-15'
                    employment_status: full_time
                  summary: Teacher Updated
          description: ''
  /api/teacher/teachers/{teacher_id}/activate/:
    post:
      operationId: teacher_teachers_activate_create
      description: Activate a previously deactivated teacher profile.
      summary: Activate teacher
      parameters:
      - in: path
        name: teacher_id
        schema:
          type: integer
        description: Teacher ID
        required: true
      tags:
      - Teacher Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Activated successfully
  /api/teacher/teachers/{teacher_id}/deactivate/:
    post:
      operationId: teacher_teachers_deactivate_create
      description: Deactivate a teacher profile (soft delete).
      summary: Deactivate teacher
      parameters:
      - in: path
        name: teacher_id
        schema:
          type: integer
        description: Teacher ID
        required: true
      tags:
      - Teacher Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: Deactivated successfully
  /api/teacher/teachers/create/:
    post:
      operationId: teacher_teachers_create_create
      description: Create a new teacher with user account.
      summary: Create teacher
      tags:
      - Teacher Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TeacherInputRequest'
            examples:
              CreateRequest:
                value:
                  email: teacher@school.com
                  full_name: Jane Teacher
                  password: SecurePass123!
                  school_id: 1
                  hire_date: '2024-01-01'
                  employment_status: full_time
                summary: Create Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TeacherInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TeacherInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeacherOutput'
              examples:
                TeacherCreated:
                  value:
                    user_id: 31
                    email: jane.doe@example.com
                    full_name: Jane Doe
                    is_active: true
                    school_id: 1
                    school_name: Global Academy
                    specialization: Science
                    hire_date: '2024-01-01'
                    employment_status: full_time
                  summary: Teacher Created
          description: ''
        '400':
          description: Validation error
  /api/user-messages/:
    get:
      operationId: user_messages_list
      description: List all messages for the current user (sent and received) or send
        a new one.
      summary: List and create messages
      parameters:
      - in: query
        name: box
        schema:
          type: string
          enum:
          - inbox
          - sent
        description: Filter by inbox or sent messages
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      tags:
      - User Messages
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedUserMessageList'
          description: ''
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedUserMessageList'
          description: ''
    post:
      operationId: user_messages_create
      description: List all messages for the current user (sent and received) or send
        a new one.
      summary: List and create messages
      parameters:
      - in: query
        name: box
        schema:
          type: string
          enum:
          - inbox
          - sent
        description: Filter by inbox or sent messages
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      tags:
      - User Messages
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserMessageRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UserMessageRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserMessageRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedUserMessageList'
          description: ''
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserMessage'
          description: ''
  /api/user-messages/{id}/:
    get:
      operationId: user_messages_retrieve
      description: Retrieve message details or soft delete it.
      summary: Retrieve or delete message
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - User Messages
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserMessageDetail'
          description: ''
        '204':
          description: Deleted successfully
    delete:
      operationId: user_messages_destroy
      description: Retrieve message details or soft delete it.
      summary: Retrieve or delete message
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - User Messages
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserMessageDetail'
          description: ''
        '204':
          description: Deleted successfully
  /api/user-messages/{id}/read/:
    post:
      operationId: user_messages_read_create
      description: Mark a specific message as read for the current user.
      summary: Mark message as read
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - User Messages
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: Marked as read successfully
        '404':
          description: Message receipt not found
    patch:
      operationId: user_messages_read_partial_update
      description: Mark a specific message as read for the current user.
      summary: Mark message as read (partial)
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - User Messages
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: Marked as read successfully
        '404':
          description: Message receipt not found
  /api/user-messages/threads/{thread_id}/:
    get:
      operationId: user_messages_threads_list
      description: Retrieve all messages in a specific thread.
      summary: List message thread
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - in: path
        name: thread_id
        schema:
          type: string
          format: uuid
        required: true
      tags:
      - User Messages
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedUserMessageList'
          description: ''
  /api/users/:
    get:
      operationId: users_list
      description: Get a list of all users. Filtered by role permissions.
      summary: List all users
      parameters:
      - in: query
        name: role
        schema:
          type: string
        description: Filter by role
      - in: query
        name: search
        schema:
          type: string
        description: Search by name or email
      tags:
      - User Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserOutput'
              examples:
                UserListResponse:
                  value:
                  - - id: 1
                      email: admin@test.com
                      full_name: Admin User
                      password: '12345678'
                      role: admin
                      work_stream: null
                      work_stream_name: null
                      school: null
                      school_name: null
                      is_active: true
                      date_joined: '2026-01-01T00:00:00Z'
                  summary: User List Response
          description: ''
  /api/users/{user_id}/:
    get:
      operationId: users_retrieve
      description: Get details of a specific user.
      summary: Get user details
      parameters:
      - in: path
        name: user_id
        schema:
          type: integer
        description: User ID
        required: true
      tags:
      - User Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserOutput'
              examples:
                UserDetails:
                  value:
                    id: 1
                    email: user@test.com
                    full_name: Test User
                    role: teacher
                    work_stream: 1
                    work_stream_name: Main Workstream
                    school: 2
                    school_name: Main School
                    is_active: true
                    date_joined: '2026-01-01T00:00:00Z'
                  summary: User Details
          description: ''
    patch:
      operationId: users_partial_update
      description: Update user details. Available fields depend on your role.
      summary: Update a user
      parameters:
      - in: path
        name: user_id
        schema:
          type: integer
        description: User ID
        required: true
      tags:
      - User Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUserUpdateInputRequest'
            examples:
              UpdateUserRequest:
                value:
                  email: apdateuser@example.com
                  full_name: Update User
                  role: student
                  password: SecurePass123!
                  work_stream: 1
                  school: null
                  is_active: true
                summary: Update User Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUserUpdateInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUserUpdateInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserOutput'
              examples:
                UpdatedUser:
                  value:
                    id: 1
                    email: user@test.com
                    full_name: Updated Name
                    role: teacher
                    work_stream: 1
                    work_stream_name: Main Workstream
                    school: 2
                    school_name: Main School
                    is_active: true
                    date_joined: '2026-01-01T00:00:00Z'
                  summary: Updated User
          description: ''
  /api/users/{user_id}/activate/:
    post:
      operationId: users_activate_create
      description: Activate a user account. You cannot activate yourself.
      summary: Activate a user
      parameters:
      - in: path
        name: user_id
        schema:
          type: integer
        description: User ID
        required: true
      tags:
      - User Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                Success:
                  value:
                    detail: User activated successfully.
          description: User activated successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
          description: Cannot activate yourself
  /api/users/{user_id}/deactivate/:
    post:
      operationId: users_deactivate_create
      description: Deactivate a user account (soft delete). You cannot deactivate
        yourself.
      summary: Deactivate a user
      parameters:
      - in: path
        name: user_id
        schema:
          type: integer
        description: User ID
        required: true
      tags:
      - User Management
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                Success:
                  value:
                    detail: User deactivated successfully.
          description: User deactivated successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
          description: Cannot deactivate yourself
  /api/users/create/:
    post:
      operationId: users_create_create
      description: "Create a new user account.\n        \n**Important:** Roles with
        profiles (teacher, student, secretary, guardian) cannot be created \nthrough
        this endpoint. Use their dedicated endpoints instead:\n- Teachers: `/api/teacher/`\n-
        Students: `/api/student/`\n- Secretaries: `/api/secretary/`\n- Guardians:
        `/api/guardian/`\n\nThis endpoint is for creating: admin, manager_workstream,
        manager_school, guest roles."
      summary: Create a new user
      tags:
      - User Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserCreateInputRequest'
            examples:
              CreateManagerUser:
                value:
                  email: manager@example.com
                  full_name: Workstream Manager
                  password: SecurePass123!
                  role: manager_workstream
                  work_stream: 1
                summary: Create Manager User
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UserCreateInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserCreateInputRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserOutput'
              examples:
                CreatedUser:
                  value:
                    id: 1
                    email: manager@example.com
                    full_name: Workstream Manager
                    role: manager_workstream
                    work_stream: 1
                    work_stream_name: Main Workstream
                    school: null
                    school_name: null
                    is_active: true
                    date_joined: '2026-01-17T00:00:00Z'
                  summary: Created User
          description: User created successfully
        '400':
          description: Validation error or role with profile
        '403':
          description: Not allowed to create user with this role
  /api/workstream/:
    get:
      operationId: workstream_list
      description: Retrieve a list of all workstreams. SuperAdmin only. Supports filtering
        by search term and active status.
      summary: List all workstreams
      parameters:
      - in: query
        name: is_active
        schema:
          type: boolean
        description: Filter by active status.
      - in: query
        name: search
        schema:
          type: string
        description: Search term to filter workstreams by name.
      tags:
      - Workstream
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/WorkstreamOutput'
              examples:
                SuccessfulResponse:
                  value:
                  - - name: EduTrack Main Campus
                      description: Main campus workstream
                      manager_id: 5
                      max_user: 100
                      is_active: true
                    - name: EduTrack Branch A
                      description: Branch A workstream
                      manager_id: 10
                      max_user: 50
                      is_active: true
                  summary: Successful Response
          description: ''
    post:
      operationId: workstream_create
      description: Create a new workstream. SuperAdmin only.
      summary: Create a new workstream
      tags:
      - Workstream
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WorkstreamCreateInputRequest'
            examples:
              CreateWorkstreamRequest:
                value:
                  name: New Campus
                  description: A new campus workstream
                  manager_id: 5
                  max_user: 100
                summary: Create Workstream Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/WorkstreamCreateInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/WorkstreamCreateInputRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WorkstreamOutput'
              examples:
                SuccessfulResponse:
                  value:
                    id: 3
                    name: New Campus
                    description: A new campus workstream
                    manager_id: 5
                    max_user: 100
                  summary: Successful Response
          description: ''
        '400':
          description: Validation error.
        '404':
          description: Manager not found.
  /api/workstream/{workstream_id}/auth/login/:
    post:
      operationId: workstream_auth_login_create
      description: Authenticate workstream users (Students, Teachers, Guardians, etc.)
        and receive JWT tokens.
      summary: Login to workstream
      parameters:
      - in: path
        name: workstream_id
        schema:
          type: integer
        description: Workstream ID
        required: true
      tags:
      - Workstream Authentication
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WorkstreamLoginInputRequest'
            examples:
              LoginRequest:
                value:
                  email: teacher@test.com
                  password: test1234
                summary: Login Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/WorkstreamLoginInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/WorkstreamLoginInputRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: Login successful
        '400':
          description: Invalid credentials
        '403':
          description: User not authorized for this workstream
  /api/workstream/{workstream_id}/auth/register/:
    post:
      operationId: workstream_auth_register_create
      description: Register a new user in a specific workstream with STUDENT role
        by default.
      summary: Register in a workstream
      parameters:
      - in: path
        name: workstream_id
        schema:
          type: integer
        description: Workstream ID
        required: true
      tags:
      - Workstream Authentication
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WorkstreamRegisterInputRequest'
            examples:
              RegisterRequest:
                value:
                  email: student@example.com
                  full_name: John Student
                  password: SecurePass123!
                  password_confirm: SecurePass123!
                summary: Register Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/WorkstreamRegisterInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/WorkstreamRegisterInputRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '201':
          description: Registration successful
        '400':
          description: Validation error
  /api/workstreams/{workstream_id}/deactivate/:
    post:
      operationId: workstreams_deactivate_create
      description: Deactivate an existing workstream by ID. SuperAdmin only. This
        does not delete the workstream, only sets it as inactive.
      summary: Deactivate a workstream
      parameters:
      - in: path
        name: workstream_id
        schema:
          type: integer
        description: The ID of the workstream to deactivate.
        required: true
      tags:
      - Workstream
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WorkstreamDeactivateResponse'
              examples:
                SuccessfulResponse:
                  value:
                    message: Workstream deactivated successfully.
                  summary: Successful Response
          description: ''
        '404':
          description: Workstream not found.
  /api/workstreams/{workstream_id}/info/:
    get:
      operationId: workstreams_info_retrieve
      description: Public endpoint to get basic workstream info (id and name only).
        Used on the login page to display workstream name.
      summary: Get public workstream info
      parameters:
      - in: path
        name: workstream_id
        schema:
          type: integer
        description: The ID of the workstream to retrieve info for.
        required: true
      tags:
      - Workstream
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WorkstreamInfoResponse'
              examples:
                SuccessfulResponse:
                  value:
                    id: 1
                    name: EduTrack Main Campus
                  summary: Successful Response
          description: ''
        '404':
          description: Workstream not found.
  /api/workstreams/{workstream_id}/update/:
    put:
      operationId: workstreams_update_update
      description: Update an existing workstream by ID. SuperAdmin only. All fields
        are optional.
      summary: Update a workstream
      parameters:
      - in: path
        name: workstream_id
        schema:
          type: integer
        description: The ID of the workstream to update.
        required: true
      tags:
      - Workstream
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WorkstreamUpdateInputRequest'
            examples:
              UpdateWorkstreamRequest:
                value:
                  name: Updated Campus Name
                  description: Updated description
                  manager_id: 2
                  max_user: 150
                  is_active: false
                summary: Update Workstream Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/WorkstreamUpdateInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/WorkstreamUpdateInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WorkstreamOutput'
          description: ''
        '400':
          description: Validation error.
        '404':
          description: Workstream not found.
    patch:
      operationId: workstreams_update_partial_update
      description: Handle PATCH requests by delegating to the same logic as PUT.
      parameters:
      - in: path
        name: workstream_id
        schema:
          type: integer
        required: true
      tags:
      - workstreams
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedWorkstreamUpdateInputRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedWorkstreamUpdateInputRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedWorkstreamUpdateInputRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WorkstreamUpdateInput'
          description: ''
components:
  schemas:
    AcademicYearCreateInputRequest:
      type: object
      description: Input serializer for creating academic years.
      properties:
        school:
          type: integer
          description: School ID
        start_date:
          type: string
          format: date
          description: Start date of the academic year
        end_date:
          type: string
          format: date
          description: End date of the academic year
      required:
      - end_date
      - school
      - start_date
    AcademicYearOutput:
      type: object
      description: Output serializer for academic year responses.
      properties:
        id:
          type: integer
          readOnly: true
        academic_year_code:
          type: string
          readOnly: true
          description: Academic year code (e.g., 2025/2026)
        school:
          type: integer
          description: School this academic year belongs to
        school_name:
          type: string
          readOnly: true
        start_date:
          type: string
          format: date
          description: Academic year start date
        end_date:
          type: string
          format: date
          description: Academic year end date
        is_active:
          type: boolean
        deactivated_at:
          type: string
          format: date-time
          nullable: true
        deactivated_by:
          type: integer
          nullable: true
        deactivated_by_name:
          type: string
          readOnly: true
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - academic_year_code
      - created_at
      - deactivated_by_name
      - end_date
      - id
      - school
      - school_name
      - start_date
      - updated_at
    AcademicYearUpdateInputRequest:
      type: object
      description: Input serializer for updating academic years.
      properties:
        start_date:
          type: string
          format: date
          description: Start date of the academic year
        end_date:
          type: string
          format: date
          description: End date of the academic year
    AssignmentInputRequest:
      type: object
      description: Input serializer for creating/updating assignments.
      properties:
        assignment_code:
          type: string
          minLength: 1
          description: Assignment code (auto-generated if not provided)
          maxLength: 50
        title:
          type: string
          minLength: 1
          description: Assignment title
          maxLength: 150
        description:
          type: string
          description: Assignment description
        due_date:
          type: string
          format: date
          nullable: true
          description: Due date for the assignment
        exam_type:
          allOf:
          - $ref: '#/components/schemas/ExamTypeEnum'
          description: |-
            Type of assignment/exam

            * `homework` - Homework
            * `quiz` - Quiz
            * `midterm` - Midterm Exam
            * `final` - Final Exam
            * `project` - Project
            * `participation` - Class Participation
            * `assignment` - Assignment
        full_mark:
          type: string
          format: decimal
          pattern: ^-?\d{0,3}(?:\.\d{0,2})?$
          description: Full marks for this assignment
      required:
      - exam_type
      - full_mark
      - title
    AssignmentOutput:
      type: object
      description: Output serializer for assignment responses.
      properties:
        id:
          type: integer
          readOnly: true
        assignment_code:
          type: string
          description: Assignment code
          maxLength: 50
        created_by:
          type: integer
          description: Teacher who created this assignment
          readOnly: true
        created_by_name:
          type: string
          readOnly: true
        title:
          type: string
          description: Assignment title
          maxLength: 200
        description:
          type: string
          nullable: true
          description: Assignment description
        due_date:
          type: string
          format: date-time
          nullable: true
          description: Due date and time
        exam_type:
          nullable: true
          description: |-
            Type of assignment/exam (deprecated, use assignment_type)

            * `homework` - Homework
            * `quiz` - Quiz
            * `midterm` - Midterm Exam
            * `final` - Final Exam
            * `project` - Project
            * `participation` - Class Participation
            * `assignment` - Assignment
          oneOf:
          - $ref: '#/components/schemas/ExamTypeEnum'
          - $ref: '#/components/schemas/BlankEnum'
          - $ref: '#/components/schemas/NullEnum'
        exam_type_display:
          type: string
          readOnly: true
        full_mark:
          type: string
          format: decimal
          pattern: ^-?\d{0,3}(?:\.\d{0,2})?$
          description: Full marks for this assignment
        is_active:
          type: boolean
        deactivated_at:
          type: string
          format: date-time
          nullable: true
        deactivated_by:
          type: integer
          nullable: true
        deactivated_by_name:
          type: string
          readOnly: true
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - assignment_code
      - created_at
      - created_by
      - created_by_name
      - deactivated_by_name
      - exam_type_display
      - full_mark
      - id
      - title
      - updated_at
    AttendanceInputRequest:
      type: object
      description: Input serializer for recording attendance.
      properties:
        student_id:
          type: integer
        course_allocation_id:
          type: integer
        date:
          type: string
          format: date
        status:
          $ref: '#/components/schemas/AttendanceStatusEnum'
        note:
          type: string
          nullable: true
      required:
      - course_allocation_id
      - date
      - status
      - student_id
    AttendanceOutput:
      type: object
      description: Output serializer for attendance records.
      properties:
        id:
          type: integer
          readOnly: true
        student_id:
          type: integer
          description: Student attendance record
          readOnly: true
        student_name:
          type: string
          readOnly: true
        course_allocation:
          type: integer
          nullable: true
          description: Course allocation for this attendance
        course_name:
          type: string
          readOnly: true
        date:
          type: string
          format: date
          description: Attendance date
        status:
          allOf:
          - $ref: '#/components/schemas/AttendanceStatusEnum'
          description: |-
            Attendance status

            * `present` - Present
            * `absent` - Absent
            * `late` - Late
            * `excused` - Excused
        note:
          type: string
          nullable: true
          description: Additional notes
        recorded_by:
          type: integer
          description: Teacher who recorded this attendance
          nullable: true
        recorded_by_name:
          type: string
          readOnly: true
        is_active:
          type: boolean
        deactivated_at:
          type: string
          format: date-time
          nullable: true
        deactivated_by:
          type: integer
          nullable: true
        deactivated_by_name:
          type: string
          readOnly: true
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - course_name
      - created_at
      - date
      - deactivated_by_name
      - id
      - recorded_by_name
      - status
      - student_id
      - student_name
      - updated_at
    AttendanceStatusEnum:
      enum:
      - present
      - absent
      - late
      - excused
      type: string
      description: |-
        * `present` - Present
        * `absent` - Absent
        * `late` - Late
        * `excused` - Excused
    BlankEnum:
      enum:
      - ''
    ClassRoomInputRequest:
      type: object
      description: Input serializer for creating/updating classrooms.
      properties:
        grade_id:
          type: integer
          description: Grade ID
        classroom_name:
          type: string
          minLength: 1
          description: Classroom name
          maxLength: 100
        homeroom_teacher_id:
          type: integer
          nullable: true
          description: Teacher ID
    ClassRoomOutput:
      type: object
      description: Output serializer for classroom responses.
      properties:
        id:
          type: integer
          readOnly: true
        classroom_name:
          type: string
          description: Classroom name
          maxLength: 100
        school:
          type: integer
          readOnly: true
          description: School this classroom belongs to
        academic_year:
          type: integer
          readOnly: true
          description: Academic year for this classroom
        grade:
          type: integer
          description: Grade level for this classroom
        grade_name:
          type: string
          readOnly: true
        homeroom_teacher:
          type: integer
          description: Homeroom teacher for this classroom
          nullable: true
        homeroom_teacher_name:
          type: string
          nullable: true
          readOnly: true
        is_active:
          type: boolean
        deactivated_at:
          type: string
          format: date-time
          nullable: true
        deactivated_by:
          type: integer
          nullable: true
        deactivated_by_name:
          type: string
          readOnly: true
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - academic_year
      - classroom_name
      - created_at
      - deactivated_by_name
      - grade
      - grade_name
      - homeroom_teacher_name
      - id
      - school
      - updated_at
    ClassroomStudentCount:
      type: object
      properties:
        classroom_id:
          type: integer
          description: Classroom ID
        classroom_name:
          type: string
          description: Classroom Name
        total_students:
          type: integer
          description: Total students in classroom
      required:
      - classroom_id
      - classroom_name
      - total_students
    ComprehensiveStatistics:
      type: object
      properties:
        role:
          type: string
          description: User role
        generated_at:
          type: string
          format: date-time
          description: Time of generation
        statistics:
          type: object
          additionalProperties: {}
          description: Key-value statistics
      required:
      - generated_at
      - role
      - statistics
    CourseInputRequest:
      type: object
      description: Input serializer for creating/updating courses.
      properties:
        grade_id:
          type: integer
          description: Grade ID
        course_code:
          type: string
          minLength: 1
          description: Course code
          maxLength: 50
        name:
          type: string
          minLength: 1
          description: Course name
          maxLength: 150
    CourseOutput:
      type: object
      description: Output serializer for course responses.
      properties:
        id:
          type: integer
          readOnly: true
        course_code:
          type: string
          description: Course code
          maxLength: 50
        school:
          type: integer
          readOnly: true
          description: School offering this course
        grade:
          type: integer
          description: Grade level for this course
        grade_name:
          type: string
          readOnly: true
        name:
          type: string
          description: Course name
          maxLength: 150
        is_active:
          type: boolean
        deactivated_at:
          type: string
          format: date-time
          nullable: true
        deactivated_by:
          type: integer
          nullable: true
        deactivated_by_name:
          type: string
          readOnly: true
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - course_code
      - created_at
      - deactivated_by_name
      - grade
      - grade_name
      - id
      - name
      - school
      - updated_at
    CourseStudentCount:
      type: object
      properties:
        course_id:
          type: integer
          description: Course ID
        course_name:
          type: string
          description: Course Name
        total_students:
          type: integer
          description: Total students enrolled in course
        by_classroom:
          type: array
          items: {}
          description: Student count per classroom
      required:
      - by_classroom
      - course_id
      - course_name
      - total_students
    DashboardStatistics:
      type: object
      properties:
        role:
          type: string
          description: User role
        statistics:
          type: object
          additionalProperties: {}
          description: Dashboard-specific statistics
      required:
      - role
      - statistics
    EnrollmentInputRequest:
      type: object
      description: Input serializer for creating/updating enrollments.
      properties:
        student_id:
          type: integer
          description: Student ID
        class_room_id:
          type: integer
          description: Classroom ID
        academic_year_id:
          type: integer
          description: Academic year ID
        status:
          allOf:
          - $ref: '#/components/schemas/EnrollmentInputStatusEnum'
          description: |-
            Enrollment status

            * `enrolled` - enrolled
            * `completed` - completed
            * `withdrawn` - withdrawn
            * `transferred` - transferred
        completion_date:
          type: string
          format: date
          nullable: true
          description: Completion date
    EnrollmentInputStatusEnum:
      enum:
      - enrolled
      - completed
      - withdrawn
      - transferred
      type: string
      description: |-
        * `enrolled` - enrolled
        * `completed` - completed
        * `withdrawn` - withdrawn
        * `transferred` - transferred
    EnrollmentOutput:
      type: object
      description: Output serializer for enrollment responses.
      properties:
        id:
          type: integer
          readOnly: true
        student_id:
          type: integer
          description: Enrolled student
          readOnly: true
        student_name:
          type: string
          readOnly: true
        class_room:
          type: integer
          description: Classroom student is enrolled in
        classroom_name:
          type: string
          readOnly: true
        academic_year:
          type: integer
          description: Academic year for this enrollment
        academic_year_code:
          type: string
          readOnly: true
        grade_name:
          type: string
          readOnly: true
        status:
          allOf:
          - $ref: '#/components/schemas/EnrollmentOutputStatusEnum'
          description: |-
            Enrollment status

            * `active` - Active
            * `enrolled` - Enrolled
            * `completed` - Completed
            * `withdrawn` - Withdrawn
            * `transferred` - Transferred
        is_active:
          type: boolean
        deactivated_at:
          type: string
          format: date-time
          nullable: true
        deactivated_by:
          type: integer
          nullable: true
        deactivated_by_name:
          type: string
          readOnly: true
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - academic_year
      - academic_year_code
      - class_room
      - classroom_name
      - created_at
      - deactivated_by_name
      - grade_name
      - id
      - student_id
      - student_name
      - updated_at
    EnrollmentOutputStatusEnum:
      enum:
      - active
      - enrolled
      - completed
      - withdrawn
      - transferred
      type: string
      description: |-
        * `active` - Active
        * `enrolled` - Enrolled
        * `completed` - Completed
        * `withdrawn` - Withdrawn
        * `transferred` - Transferred
    ExamTypeEnum:
      enum:
      - homework
      - quiz
      - midterm
      - final
      - project
      - participation
      - assignment
      type: string
      description: |-
        * `homework` - Homework
        * `quiz` - Quiz
        * `midterm` - Midterm Exam
        * `final` - Final Exam
        * `project` - Project
        * `participation` - Class Participation
        * `assignment` - Assignment
    GradeInputRequest:
      type: object
      description: Input serializer for creating/updating grades.
      properties:
        name:
          type: string
          minLength: 1
          description: Grade name
          maxLength: 50
        numeric_level:
          type: integer
          description: Numeric level (e.g., 1-12)
        min_age:
          type: integer
          description: Minimum age
        max_age:
          type: integer
          description: Maximum age
    GradeOutput:
      type: object
      description: Output serializer for grade responses.
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          description: Grade name (e.g., Grade 1, Kindergarten)
          maxLength: 50
        numeric_level:
          type: integer
          maximum: 2147483647
          minimum: 1
          description: Numeric level for ordering
        min_age:
          type: integer
          maximum: 2147483647
          minimum: 0
          description: Minimum age for this grade
        max_age:
          type: integer
          maximum: 2147483647
          minimum: 0
          description: Maximum age for this grade
        is_active:
          type: boolean
        deactivated_at:
          type: string
          format: date-time
          nullable: true
        deactivated_by:
          type: integer
          nullable: true
        deactivated_by_name:
          type: string
          readOnly: true
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - deactivated_by_name
      - id
      - max_age
      - min_age
      - name
      - numeric_level
      - updated_at
    GuardianInputRequest:
      type: object
      description: Input serializer for creating/updating guardians.
      properties:
        email:
          type: string
          format: email
          minLength: 1
          description: Email address
        full_name:
          type: string
          minLength: 1
          description: Full name
          maxLength: 150
        password:
          type: string
          writeOnly: true
          minLength: 1
          description: Password
        school_id:
          type: integer
          description: School ID
        phone_number:
          type: string
          nullable: true
          description: Phone number
          maxLength: 20
    GuardianOutput:
      type: object
      description: Output serializer for guardian responses.
      properties:
        user_id:
          type: integer
          description: User account for this guardian
          readOnly: true
        email:
          type: string
          format: email
          readOnly: true
        full_name:
          type: string
          readOnly: true
        is_active:
          type: boolean
          readOnly: true
        school_id:
          type: integer
          readOnly: true
          nullable: true
        school_name:
          type: string
          readOnly: true
          nullable: true
        phone_number:
          type: string
          nullable: true
          description: Guardian phone number
          maxLength: 20
        deactivated_at:
          type: string
          format: date-time
          readOnly: true
        deactivated_by_name:
          type: string
          readOnly: true
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - deactivated_at
      - deactivated_by_name
      - email
      - full_name
      - is_active
      - school_id
      - school_name
      - updated_at
      - user_id
    GuardianStudentLinkInputRequest:
      type: object
      description: Input serializer for linking student to guardian.
      properties:
        student_id:
          type: integer
          description: Student ID
        relationship_type:
          allOf:
          - $ref: '#/components/schemas/RelationshipTypeEnum'
          description: |-
            Relationship type

            * `parent` - Parent
            * `legal_guardian` - Legal Guardian
            * `foster_parent` - Foster Parent
            * `sibling` - Sibling
            * `other` - Other
      required:
      - relationship_type
      - student_id
    GuardianStudentLinkOutput:
      type: object
      description: Output serializer for links.
      properties:
        id:
          type: integer
          readOnly: true
        student_id:
          type: integer
          description: Student in this relationship
          readOnly: true
        student_name:
          type: string
          readOnly: true
        relationship_type:
          allOf:
          - $ref: '#/components/schemas/RelationshipTypeEnum'
          description: |-
            Type of relationship

            * `parent` - Parent
            * `legal_guardian` - Legal Guardian
            * `foster_parent` - Foster Parent
            * `sibling` - Sibling
            * `other` - Other
        relationship_display:
          type: string
          readOnly: true
        is_active:
          type: boolean
      required:
      - id
      - relationship_display
      - relationship_type
      - student_id
      - student_name
    LearningMaterial:
      type: object
      description: Serializer for Learning Material.
      properties:
        id:
          type: integer
          readOnly: true
        material_code:
          type: string
          readOnly: true
          description: Material code
        course:
          type: integer
          description: Course this material belongs to
        classroom:
          type: integer
          description: Classroom this material is for
        academic_year:
          type: integer
          description: Academic year for this material
        uploaded_by:
          type: integer
          readOnly: true
          description: User who uploaded this material
        uploaded_by_name:
          type: string
          readOnly: true
        title:
          type: string
          description: Material title
          maxLength: 150
        description:
          type: string
          nullable: true
          description: Material description
        file_url:
          type: string
          description: URL/path to the material file
          maxLength: 255
        file_type:
          type: string
          nullable: true
          description: File type/extension
          maxLength: 50
        file_size:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
          description: File size in bytes
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - academic_year
      - classroom
      - course
      - created_at
      - file_url
      - id
      - material_code
      - title
      - uploaded_by
      - uploaded_by_name
    LearningMaterialRequest:
      type: object
      description: Serializer for Learning Material.
      properties:
        course:
          type: integer
          description: Course this material belongs to
        classroom:
          type: integer
          description: Classroom this material is for
        academic_year:
          type: integer
          description: Academic year for this material
        title:
          type: string
          minLength: 1
          description: Material title
          maxLength: 150
        description:
          type: string
          nullable: true
          description: Material description
        file_url:
          type: string
          minLength: 1
          description: URL/path to the material file
          maxLength: 255
        file_type:
          type: string
          nullable: true
          description: File type/extension
          maxLength: 50
        file_size:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
          description: File size in bytes
      required:
      - academic_year
      - classroom
      - course
      - file_url
      - title
    LessonPlan:
      type: object
      description: Serializer for LessonPlan model.
      properties:
        id:
          type: integer
          readOnly: true
        course:
          type: integer
          description: Course this lesson plan is for
        course_name:
          type: string
          readOnly: true
        classroom:
          type: integer
          description: Classroom this lesson plan is for
        classroom_name:
          type: string
          readOnly: true
        academic_year:
          type: integer
          description: Academic year for this lesson plan
        teacher:
          type: integer
          description: Teacher who created this lesson plan
          readOnly: true
        teacher_name:
          type: string
          readOnly: true
        title:
          type: string
          description: Lesson title
          maxLength: 200
        content:
          type: string
          description: Detailed lesson content/procedure
        objectives:
          type: string
          nullable: true
          description: Learning objectives
        resources_needed:
          type: string
          nullable: true
          description: Resources/materials needed
        date_planned:
          type: string
          format: date
          description: Date when this lesson is planned to be taught
        is_published:
          type: boolean
          description: Whether the lesson plan is visible to others
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - academic_year
      - classroom
      - classroom_name
      - content
      - course
      - course_name
      - created_at
      - date_planned
      - id
      - teacher
      - teacher_name
      - title
      - updated_at
    LessonPlanRequest:
      type: object
      description: Serializer for LessonPlan model.
      properties:
        course:
          type: integer
          description: Course this lesson plan is for
        classroom:
          type: integer
          description: Classroom this lesson plan is for
        academic_year:
          type: integer
          description: Academic year for this lesson plan
        title:
          type: string
          minLength: 1
          description: Lesson title
          maxLength: 200
        content:
          type: string
          minLength: 1
          description: Detailed lesson content/procedure
        objectives:
          type: string
          nullable: true
          description: Learning objectives
        resources_needed:
          type: string
          nullable: true
          description: Resources/materials needed
        date_planned:
          type: string
          format: date
          description: Date when this lesson is planned to be taught
        is_published:
          type: boolean
          description: Whether the lesson plan is visible to others
      required:
      - academic_year
      - classroom
      - content
      - course
      - date_planned
      - title
    MarkInputRequest:
      type: object
      description: Input serializer for recording marks.
      properties:
        student_id:
          type: integer
        assignment_id:
          type: integer
        score:
          type: string
          format: decimal
          pattern: ^-?\d{0,3}(?:\.\d{0,2})?$
        feedback:
          type: string
          nullable: true
      required:
      - assignment_id
      - score
      - student_id
    MarkOutput:
      type: object
      description: Output serializer for mark records.
      properties:
        id:
          type: integer
          readOnly: true
        student_id:
          type: integer
          description: Student who received this mark
          readOnly: true
        student_name:
          type: string
          readOnly: true
        assignment:
          type: integer
          description: Assignment this mark is for
        assignment_title:
          type: string
          readOnly: true
        score:
          type: string
          format: decimal
          pattern: ^-?\d{0,3}(?:\.\d{0,2})?$
          description: Score/mark received
        feedback:
          type: string
          nullable: true
          description: Teacher comments/feedback
        graded_by:
          type: integer
          description: Teacher who graded this
          nullable: true
        graded_by_name:
          type: string
          readOnly: true
        graded_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          description: When this was graded
        is_active:
          type: boolean
        deactivated_at:
          type: string
          format: date-time
          nullable: true
        deactivated_by:
          type: integer
          nullable: true
        deactivated_by_name:
          type: string
          readOnly: true
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - assignment
      - assignment_title
      - created_at
      - deactivated_by_name
      - graded_at
      - graded_by_name
      - id
      - score
      - student_id
      - student_name
      - updated_at
    Message:
      type: object
      description: Simple serializer for detail messages.
      properties:
        detail:
          type: string
          description: Response message
      required:
      - detail
    MessageReceipt:
      type: object
      properties:
        recipient:
          allOf:
          - $ref: '#/components/schemas/UserMessageUserMinimal'
          readOnly: true
        is_read:
          type: boolean
          description: Whether the message has been read
        read_at:
          type: string
          format: date-time
          nullable: true
          description: When the message was read
      required:
      - recipient
    MessageReceiptRequest:
      type: object
      properties:
        is_read:
          type: boolean
          description: Whether the message has been read
        read_at:
          type: string
          format: date-time
          nullable: true
          description: When the message was read
    NotificationOutput:
      type: object
      description: Output serializer for notifications.
      properties:
        id:
          type: integer
          readOnly: true
        title:
          type: string
          description: Notification title
          maxLength: 200
        message:
          type: string
          description: Notification body/content
        notification_type:
          allOf:
          - $ref: '#/components/schemas/NotificationTypeEnum'
          description: |-
            Type of notification

            * `grade_posted` - Grade Posted
            * `assignment_due` - Assignment Due Soon
            * `attendance_marked` - Attendance Marked
            * `announcement` - Announcement
            * `message_received` - Message Received
            * `account_change` - Account Change
            * `system` - System Notification
        recipient:
          type: integer
          nullable: true
          description: User receiving this notification
        recipient_email:
          type: string
          readOnly: true
        sender:
          type: integer
          nullable: true
          description: User who created this notification
        sender_name:
          type: string
          readOnly: true
          nullable: true
        action_url:
          type: string
          description: URL for action
          maxLength: 500
        related_object_type:
          type: string
          description: Type of related object
          maxLength: 50
        related_object_id:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
          description: ID of related object
        is_read:
          type: boolean
          description: Whether the notification has been read
        read_at:
          type: string
          format: date-time
          nullable: true
          description: When the notification was read
        email_sent:
          type: boolean
          description: Whether email notification was sent
        push_sent:
          type: boolean
          description: Whether push notification was sent
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - id
      - message
      - recipient_email
      - sender_name
      - title
      - updated_at
    NotificationTypeEnum:
      enum:
      - grade_posted
      - assignment_due
      - attendance_marked
      - announcement
      - message_received
      - account_change
      - system
      type: string
      description: |-
        * `grade_posted` - Grade Posted
        * `assignment_due` - Assignment Due Soon
        * `attendance_marked` - Attendance Marked
        * `announcement` - Announcement
        * `message_received` - Message Received
        * `account_change` - Account Change
        * `system` - System Notification
    NullEnum:
      enum:
      - null
    PaginatedLearningMaterialList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/LearningMaterial'
    PaginatedLessonPlanList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/LessonPlan'
    PaginatedSystemConfigurationList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/SystemConfiguration'
    PaginatedUserMessageList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/UserMessage'
    PatchedAssignmentUpdateRequest:
      type: object
      description: Input serializer for updating assignments (all fields optional).
      properties:
        assignment_code:
          type: string
          minLength: 1
          description: Assignment code
          maxLength: 50
        title:
          type: string
          minLength: 1
          description: Assignment title
          maxLength: 150
        description:
          type: string
          nullable: true
          description: Assignment description
        due_date:
          type: string
          format: date
          nullable: true
          description: Due date for the assignment
        exam_type:
          allOf:
          - $ref: '#/components/schemas/ExamTypeEnum'
          description: |-
            Type of assignment/exam

            * `homework` - Homework
            * `quiz` - Quiz
            * `midterm` - Midterm Exam
            * `final` - Final Exam
            * `project` - Project
            * `participation` - Class Participation
            * `assignment` - Assignment
        full_mark:
          type: string
          format: decimal
          pattern: ^-?\d{0,3}(?:\.\d{0,2})?$
          description: Full marks for this assignment
    PatchedClassRoomInputRequest:
      type: object
      description: Input serializer for creating/updating classrooms.
      properties:
        grade_id:
          type: integer
          description: Grade ID
        classroom_name:
          type: string
          minLength: 1
          description: Classroom name
          maxLength: 100
        homeroom_teacher_id:
          type: integer
          nullable: true
          description: Teacher ID
    PatchedCourseInputRequest:
      type: object
      description: Input serializer for creating/updating courses.
      properties:
        grade_id:
          type: integer
          description: Grade ID
        course_code:
          type: string
          minLength: 1
          description: Course code
          maxLength: 50
        name:
          type: string
          minLength: 1
          description: Course name
          maxLength: 150
    PatchedEnrollmentInputRequest:
      type: object
      description: Input serializer for creating/updating enrollments.
      properties:
        student_id:
          type: integer
          description: Student ID
        class_room_id:
          type: integer
          description: Classroom ID
        academic_year_id:
          type: integer
          description: Academic year ID
        status:
          allOf:
          - $ref: '#/components/schemas/EnrollmentInputStatusEnum'
          description: |-
            Enrollment status

            * `enrolled` - enrolled
            * `completed` - completed
            * `withdrawn` - withdrawn
            * `transferred` - transferred
        completion_date:
          type: string
          format: date
          nullable: true
          description: Completion date
    PatchedGradeInputRequest:
      type: object
      description: Input serializer for creating/updating grades.
      properties:
        name:
          type: string
          minLength: 1
          description: Grade name
          maxLength: 50
        numeric_level:
          type: integer
          description: Numeric level (e.g., 1-12)
        min_age:
          type: integer
          description: Minimum age
        max_age:
          type: integer
          description: Maximum age
    PatchedGuardianInputRequest:
      type: object
      description: Input serializer for creating/updating guardians.
      properties:
        email:
          type: string
          format: email
          minLength: 1
          description: Email address
        full_name:
          type: string
          minLength: 1
          description: Full name
          maxLength: 150
        password:
          type: string
          writeOnly: true
          minLength: 1
          description: Password
        school_id:
          type: integer
          description: School ID
        phone_number:
          type: string
          nullable: true
          description: Phone number
          maxLength: 20
    PatchedLearningMaterialRequest:
      type: object
      description: Serializer for Learning Material.
      properties:
        course:
          type: integer
          description: Course this material belongs to
        classroom:
          type: integer
          description: Classroom this material is for
        academic_year:
          type: integer
          description: Academic year for this material
        title:
          type: string
          minLength: 1
          description: Material title
          maxLength: 150
        description:
          type: string
          nullable: true
          description: Material description
        file_url:
          type: string
          minLength: 1
          description: URL/path to the material file
          maxLength: 255
        file_type:
          type: string
          nullable: true
          description: File type/extension
          maxLength: 50
        file_size:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
          description: File size in bytes
    PatchedLessonPlanRequest:
      type: object
      description: Serializer for LessonPlan model.
      properties:
        course:
          type: integer
          description: Course this lesson plan is for
        classroom:
          type: integer
          description: Classroom this lesson plan is for
        academic_year:
          type: integer
          description: Academic year for this lesson plan
        title:
          type: string
          minLength: 1
          description: Lesson title
          maxLength: 200
        content:
          type: string
          minLength: 1
          description: Detailed lesson content/procedure
        objectives:
          type: string
          nullable: true
          description: Learning objectives
        resources_needed:
          type: string
          nullable: true
          description: Resources/materials needed
        date_planned:
          type: string
          format: date
          description: Date when this lesson is planned to be taught
        is_published:
          type: boolean
          description: Whether the lesson plan is visible to others
    PatchedSecretaryInputRequest:
      type: object
      description: Input serializer for creating/updating secretaries.
      properties:
        email:
          type: string
          format: email
          minLength: 1
          description: Email address
        full_name:
          type: string
          minLength: 1
          description: Full name
          maxLength: 150
        password:
          type: string
          writeOnly: true
          minLength: 1
          description: Password
        school_id:
          type: integer
          description: School ID
        department:
          type: string
          minLength: 1
          description: Department
          maxLength: 100
        office_number:
          type: string
          nullable: true
          description: Office number
          maxLength: 50
        hire_date:
          type: string
          format: date
          description: Hire date
    PatchedStaffEvaluationInputRequest:
      type: object
      description: Input serializer for creating/updating staff evaluations.
      properties:
        reviewee_id:
          type: integer
          description: User ID of person being reviewed
        evaluation_date:
          type: string
          format: date
          description: Date of evaluation
        rating_score:
          type: integer
          description: Rating score (1-5)
        comments:
          type: string
          nullable: true
          description: Comments
    PatchedStudentInputRequest:
      type: object
      description: Input serializer for creating/updating students.
      properties:
        email:
          type: string
          format: email
          minLength: 1
          description: Email address
        full_name:
          type: string
          minLength: 1
          description: Full name
          maxLength: 150
        password:
          type: string
          writeOnly: true
          minLength: 1
          description: Password
        school_id:
          type: integer
          description: School ID
        grade_id:
          type: integer
          description: Grade ID (for initial enrollment)
        date_of_birth:
          type: string
          format: date
          description: Date of birth
        admission_date:
          type: string
          format: date
          description: Admission date
        address:
          type: string
          nullable: true
          description: Address
        medical_notes:
          type: string
          nullable: true
          description: Medical notes
        current_status:
          allOf:
          - $ref: '#/components/schemas/StudentInputCurrentStatusEnum'
          description: |-
            Status

            * `active` - active
            * `inactive` - inactive
            * `graduated` - graduated
            * `transferred` - transferred
            * `suspended` - suspended
    PatchedSystemConfigurationRequest:
      type: object
      description: Serializer for SystemConfiguration.
      properties:
        work_stream:
          type: integer
          nullable: true
          description: Workstream-specific config (null for global/school-specific)
        school:
          type: integer
          nullable: true
          description: School-specific config (null for global/workstream-specific)
        config_key:
          type: string
          minLength: 1
          description: Configuration key
          maxLength: 100
        config_value:
          type: string
          minLength: 1
          description: Configuration value
    PatchedTeacherInputRequest:
      type: object
      description: Input serializer for creating/updating teachers.
      properties:
        email:
          type: string
          format: email
          minLength: 1
          description: Email address
        full_name:
          type: string
          minLength: 1
          description: Full name
          maxLength: 150
        password:
          type: string
          writeOnly: true
          minLength: 1
          description: Password
        school_id:
          type: integer
          description: School ID
        specialization:
          type: string
          nullable: true
          description: Specialization
          maxLength: 100
        hire_date:
          type: string
          format: date
          description: Hire date
        employment_status:
          allOf:
          - $ref: '#/components/schemas/TeacherInputEmploymentStatusEnum'
          description: |-
            Employment status

            * `full_time` - full_time
            * `part_time` - part_time
            * `contract` - contract
            * `substitute` - substitute
        highest_degree:
          type: string
          nullable: true
          description: Highest degree
          maxLength: 100
        years_of_experience:
          type: integer
          nullable: true
          description: Years of experience
        office_location:
          type: string
          nullable: true
          description: Office location
          maxLength: 100
    PatchedUserUpdateInputRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          minLength: 1
          description: Email
        full_name:
          type: string
          minLength: 1
          description: Full name
          maxLength: 150
        role:
          allOf:
          - $ref: '#/components/schemas/RoleEnum'
          description: |-
            Role

            * `student` - Student
            * `teacher` - Teacher
            * `secretary` - Secretary
            * `manager_school` - School Manager
            * `manager_workstream` - Workstream Manager
            * `guardian` - Guardian
            * `admin` - Admin
            * `guest` - Guest
        work_stream:
          type: integer
          nullable: true
          description: Workstream ID
        school:
          type: integer
          nullable: true
          description: School ID
        is_active:
          type: boolean
          description: Active status
        password:
          type: string
          writeOnly: true
          minLength: 1
          description: Password
    PatchedWorkstreamUpdateInputRequest:
      type: object
      properties:
        workstream_name:
          type: string
          minLength: 1
        description:
          type: string
        manager_id:
          type: integer
        capacity:
          type: integer
          minimum: 1
        is_active:
          type: boolean
    PortalLoginInputRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          minLength: 1
          description: User's email address
        password:
          type: string
          writeOnly: true
          minLength: 1
          description: User's password
      required:
      - email
      - password
    PortalRegisterInputRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          minLength: 1
          description: User's email address
        full_name:
          type: string
          minLength: 1
          description: User's full name
          maxLength: 150
        password:
          type: string
          writeOnly: true
          minLength: 8
          description: Password (min 8 characters)
        password_confirm:
          type: string
          writeOnly: true
          minLength: 8
          description: Confirm password
      required:
      - email
      - full_name
      - password
      - password_confirm
    RelationshipTypeEnum:
      enum:
      - parent
      - legal_guardian
      - foster_parent
      - sibling
      - other
      type: string
      description: |-
        * `parent` - Parent
        * `legal_guardian` - Legal Guardian
        * `foster_parent` - Foster Parent
        * `sibling` - Sibling
        * `other` - Other
    RoleEnum:
      enum:
      - student
      - teacher
      - secretary
      - manager_school
      - manager_workstream
      - guardian
      - admin
      - guest
      type: string
      description: |-
        * `student` - Student
        * `teacher` - Teacher
        * `secretary` - Secretary
        * `manager_school` - School Manager
        * `manager_workstream` - Workstream Manager
        * `guardian` - Guardian
        * `admin` - Admin
        * `guest` - Guest
    SchoolCreateInputRequest:
      type: object
      properties:
        school_name:
          type: string
          minLength: 1
          maxLength: 255
        work_stream:
          type: integer
      required:
      - school_name
      - work_stream
    SchoolOutput:
      type: object
      properties:
        id:
          type: integer
        school_name:
          type: string
        work_stream:
          type: integer
        manager:
          type: integer
          nullable: true
        is_active:
          type: boolean
        deactivated_at:
          type: string
          format: date-time
          nullable: true
        deactivated_by:
          type: integer
          nullable: true
        deactivated_by_name:
          type: string
          readOnly: true
          nullable: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
      required:
      - created_at
      - deactivated_at
      - deactivated_by
      - deactivated_by_name
      - id
      - is_active
      - manager
      - school_name
      - updated_at
      - work_stream
    SchoolStudentCount:
      type: object
      properties:
        school_id:
          type: integer
          description: School ID
        school_name:
          type: string
          description: School Name
        total_students:
          type: integer
          description: Total students in school
        by_grade:
          type: array
          items: {}
          description: Student count per grade
        by_classroom:
          type: array
          items: {}
          description: Student count per classroom
      required:
      - by_classroom
      - by_grade
      - school_id
      - school_name
      - total_students
    SchoolUpdateInputRequest:
      type: object
      properties:
        school_name:
          type: string
          minLength: 1
          maxLength: 255
    SecretaryInputRequest:
      type: object
      description: Input serializer for creating/updating secretaries.
      properties:
        email:
          type: string
          format: email
          minLength: 1
          description: Email address
        full_name:
          type: string
          minLength: 1
          description: Full name
          maxLength: 150
        password:
          type: string
          writeOnly: true
          minLength: 1
          description: Password
        school_id:
          type: integer
          description: School ID
        department:
          type: string
          minLength: 1
          description: Department
          maxLength: 100
        office_number:
          type: string
          nullable: true
          description: Office number
          maxLength: 50
        hire_date:
          type: string
          format: date
          description: Hire date
    SecretaryOutput:
      type: object
      description: Output serializer for secretary responses.
      properties:
        user_id:
          type: integer
          description: User account for this secretary/registrar
          readOnly: true
        email:
          type: string
          format: email
          readOnly: true
        full_name:
          type: string
          readOnly: true
        is_active:
          type: boolean
          readOnly: true
        school_name:
          type: string
          readOnly: true
        department:
          type: string
          description: Department this secretary belongs to
          maxLength: 100
        office_number:
          type: string
          nullable: true
          description: Office number
          maxLength: 50
        hire_date:
          type: string
          format: date
          description: Date of hire
      required:
      - department
      - email
      - full_name
      - hire_date
      - is_active
      - school_name
      - user_id
    StaffEvaluationInputRequest:
      type: object
      description: Input serializer for creating/updating staff evaluations.
      properties:
        reviewee_id:
          type: integer
          description: User ID of person being reviewed
        evaluation_date:
          type: string
          format: date
          description: Date of evaluation
        rating_score:
          type: integer
          description: Rating score (1-5)
        comments:
          type: string
          nullable: true
          description: Comments
    StaffEvaluationOutput:
      type: object
      description: Output serializer for staff evaluation responses.
      properties:
        id:
          type: integer
          readOnly: true
        reviewer:
          type: integer
          readOnly: true
          description: User who performed the evaluation
        reviewer_name:
          type: string
          readOnly: true
        reviewee:
          type: integer
          description: User being evaluated
        reviewee_name:
          type: string
          readOnly: true
        evaluation_date:
          type: string
          format: date
          description: Date of evaluation
        rating_score:
          type: integer
          maximum: 2147483647
          minimum: 0
          description: Rating score
        comments:
          type: string
          nullable: true
          description: Evaluation comments
      required:
      - evaluation_date
      - id
      - rating_score
      - reviewee
      - reviewee_name
      - reviewer
      - reviewer_name
    StudentInputCurrentStatusEnum:
      enum:
      - active
      - inactive
      - graduated
      - transferred
      - suspended
      type: string
      description: |-
        * `active` - active
        * `inactive` - inactive
        * `graduated` - graduated
        * `transferred` - transferred
        * `suspended` - suspended
    StudentInputRequest:
      type: object
      description: Input serializer for creating/updating students.
      properties:
        email:
          type: string
          format: email
          minLength: 1
          description: Email address
        full_name:
          type: string
          minLength: 1
          description: Full name
          maxLength: 150
        password:
          type: string
          writeOnly: true
          minLength: 1
          description: Password
        school_id:
          type: integer
          description: School ID
        grade_id:
          type: integer
          description: Grade ID (for initial enrollment)
        date_of_birth:
          type: string
          format: date
          description: Date of birth
        admission_date:
          type: string
          format: date
          description: Admission date
        address:
          type: string
          nullable: true
          description: Address
        medical_notes:
          type: string
          nullable: true
          description: Medical notes
        current_status:
          allOf:
          - $ref: '#/components/schemas/StudentInputCurrentStatusEnum'
          description: |-
            Status

            * `active` - active
            * `inactive` - inactive
            * `graduated` - graduated
            * `transferred` - transferred
            * `suspended` - suspended
    StudentOutput:
      type: object
      description: Output serializer for student responses.
      properties:
        user_id:
          type: integer
          description: User account for this student
          readOnly: true
        email:
          type: string
          format: email
          readOnly: true
        full_name:
          type: string
          readOnly: true
        is_active:
          type: boolean
          readOnly: true
        school_id:
          type: integer
          readOnly: true
          nullable: true
        school_name:
          type: string
          nullable: true
          readOnly: true
        work_stream_id:
          type: integer
          nullable: true
          readOnly: true
        current_grade:
          type: object
          additionalProperties:
            type: string
          nullable: true
          readOnly: true
        date_of_birth:
          type: string
          format: date
          description: Student date of birth
        admission_date:
          type: string
          format: date
          description: Date of admission
        current_status:
          allOf:
          - $ref: '#/components/schemas/StudentOutputCurrentStatusEnum'
          description: |-
            Current enrollment status (deprecated, use enrollment_status)

            * `active` - Active
            * `inactive` - Inactive
            * `graduated` - Graduated
            * `transferred` - Transferred
            * `withdrawn` - Withdrawn
        address:
          type: string
          nullable: true
          description: Student address
        medical_notes:
          type: string
          nullable: true
          description: Medical information/notes
        deactivated_at:
          type: string
          format: date-time
          readOnly: true
        deactivated_by_name:
          type: string
          readOnly: true
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - admission_date
      - created_at
      - current_grade
      - date_of_birth
      - deactivated_at
      - deactivated_by_name
      - email
      - full_name
      - is_active
      - school_id
      - school_name
      - updated_at
      - user_id
      - work_stream_id
    StudentOutputCurrentStatusEnum:
      enum:
      - active
      - inactive
      - graduated
      - transferred
      - withdrawn
      type: string
      description: |-
        * `active` - Active
        * `inactive` - Inactive
        * `graduated` - Graduated
        * `transferred` - Transferred
        * `withdrawn` - Withdrawn
    SystemConfiguration:
      type: object
      description: Serializer for SystemConfiguration.
      properties:
        id:
          type: integer
          readOnly: true
        work_stream:
          type: integer
          nullable: true
          description: Workstream-specific config (null for global/school-specific)
        school:
          type: integer
          nullable: true
          description: School-specific config (null for global/workstream-specific)
        config_key:
          type: string
          description: Configuration key
          maxLength: 100
        config_value:
          type: string
          description: Configuration value
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - config_key
      - config_value
      - created_at
      - id
      - updated_at
    SystemConfigurationRequest:
      type: object
      description: Serializer for SystemConfiguration.
      properties:
        work_stream:
          type: integer
          nullable: true
          description: Workstream-specific config (null for global/school-specific)
        school:
          type: integer
          nullable: true
          description: School-specific config (null for global/workstream-specific)
        config_key:
          type: string
          minLength: 1
          description: Configuration key
          maxLength: 100
        config_value:
          type: string
          minLength: 1
          description: Configuration value
      required:
      - config_key
      - config_value
    TeacherInputEmploymentStatusEnum:
      enum:
      - full_time
      - part_time
      - contract
      - substitute
      type: string
      description: |-
        * `full_time` - full_time
        * `part_time` - part_time
        * `contract` - contract
        * `substitute` - substitute
    TeacherInputRequest:
      type: object
      description: Input serializer for creating/updating teachers.
      properties:
        email:
          type: string
          format: email
          minLength: 1
          description: Email address
        full_name:
          type: string
          minLength: 1
          description: Full name
          maxLength: 150
        password:
          type: string
          writeOnly: true
          minLength: 1
          description: Password
        school_id:
          type: integer
          description: School ID
        specialization:
          type: string
          nullable: true
          description: Specialization
          maxLength: 100
        hire_date:
          type: string
          format: date
          description: Hire date
        employment_status:
          allOf:
          - $ref: '#/components/schemas/TeacherInputEmploymentStatusEnum'
          description: |-
            Employment status

            * `full_time` - full_time
            * `part_time` - part_time
            * `contract` - contract
            * `substitute` - substitute
        highest_degree:
          type: string
          nullable: true
          description: Highest degree
          maxLength: 100
        years_of_experience:
          type: integer
          nullable: true
          description: Years of experience
        office_location:
          type: string
          nullable: true
          description: Office location
          maxLength: 100
    TeacherOutput:
      type: object
      description: Output serializer for teacher responses.
      properties:
        user_id:
          type: integer
          description: User account for this teacher
          readOnly: true
        email:
          type: string
          format: email
          readOnly: true
        full_name:
          type: string
          readOnly: true
        is_active:
          type: boolean
          readOnly: true
        school_id:
          type: integer
          readOnly: true
          nullable: true
        school_name:
          type: string
          readOnly: true
          nullable: true
        specialization:
          type: string
          nullable: true
          description: Teaching specialization
          maxLength: 100
        hire_date:
          type: string
          format: date
          description: Date of hire
        employment_status:
          allOf:
          - $ref: '#/components/schemas/TeacherOutputEmploymentStatusEnum'
          description: |-
            Employment status

            * `full_time` - Full Time
            * `part_time` - Part Time
            * `contract` - Contract
            * `substitute` - Substitute
        highest_degree:
          type: string
          nullable: true
          description: Highest educational degree
          maxLength: 100
        years_of_experience:
          type: integer
          maximum: 2147483647
          minimum: 0
          nullable: true
          description: Years of teaching experience
        office_location:
          type: string
          nullable: true
          description: Office location
          maxLength: 100
        deactivated_at:
          type: string
          format: date-time
          readOnly: true
        deactivated_by_name:
          type: string
          readOnly: true
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - deactivated_at
      - deactivated_by_name
      - email
      - employment_status
      - full_name
      - hire_date
      - is_active
      - school_id
      - school_name
      - updated_at
      - user_id
    TeacherOutputEmploymentStatusEnum:
      enum:
      - full_time
      - part_time
      - contract
      - substitute
      type: string
      description: |-
        * `full_time` - Full Time
        * `part_time` - Part Time
        * `contract` - Contract
        * `substitute` - Substitute
    TeacherStudentCount:
      type: object
      properties:
        teacher_id:
          type: integer
          description: Teacher's User ID
        teacher_name:
          type: string
          description: Teacher's Full Name
        total_students:
          type: integer
          description: Total students taught by this teacher
        by_course:
          type: array
          items: {}
          description: Student count per course
        by_classroom:
          type: array
          items: {}
          description: Student count per classroom
      required:
      - by_classroom
      - by_course
      - teacher_id
      - teacher_name
      - total_students
    TokenRefresh:
      type: object
      properties:
        access:
          type: string
          readOnly: true
        refresh:
          type: string
      required:
      - access
      - refresh
    TokenRefreshRequest:
      type: object
      properties:
        refresh:
          type: string
          minLength: 1
      required:
      - refresh
    UserCreateInputRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          minLength: 1
          description: User email address
        full_name:
          type: string
          minLength: 1
          description: Full name
          maxLength: 150
        password:
          type: string
          writeOnly: true
          minLength: 1
          description: Password
        role:
          allOf:
          - $ref: '#/components/schemas/RoleEnum'
          description: |-
            User role

            * `student` - Student
            * `teacher` - Teacher
            * `secretary` - Secretary
            * `manager_school` - School Manager
            * `manager_workstream` - Workstream Manager
            * `guardian` - Guardian
            * `admin` - Admin
            * `guest` - Guest
        work_stream:
          type: integer
          nullable: true
          description: Workstream ID
        school:
          type: integer
          nullable: true
          description: School ID
      required:
      - email
      - full_name
      - password
      - role
    UserMessage:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        sender:
          allOf:
          - $ref: '#/components/schemas/UserMessageUserMinimal'
          readOnly: true
        receipts:
          type: array
          items:
            $ref: '#/components/schemas/MessageReceipt'
          readOnly: true
        subject:
          type: string
          description: Message subject
          maxLength: 200
        body:
          type: string
          description: Message body/content
        attachments:
          description: List of attachment URLs
        thread_id:
          type: string
          format: uuid
          readOnly: true
          description: Thread identifier for grouping messages
        sent_at:
          type: string
          format: date-time
          readOnly: true
          description: When the message was sent
        is_draft:
          type: boolean
          description: Whether this is a draft message
      required:
      - body
      - id
      - receipts
      - sender
      - sent_at
      - thread_id
    UserMessageDetail:
      type: object
      description: Same as MessageSerializer but could include more details if needed.
      properties:
        id:
          type: integer
          readOnly: true
        sender:
          allOf:
          - $ref: '#/components/schemas/UserMessageUserMinimal'
          readOnly: true
        receipts:
          type: array
          items:
            $ref: '#/components/schemas/MessageReceipt'
          readOnly: true
        subject:
          type: string
          description: Message subject
          maxLength: 200
        body:
          type: string
          description: Message body/content
        attachments:
          description: List of attachment URLs
        thread_id:
          type: string
          format: uuid
          readOnly: true
          description: Thread identifier for grouping messages
        sent_at:
          type: string
          format: date-time
          readOnly: true
          description: When the message was sent
        is_draft:
          type: boolean
          description: Whether this is a draft message
      required:
      - body
      - id
      - receipts
      - sender
      - sent_at
      - thread_id
    UserMessageRequest:
      type: object
      properties:
        recipient_ids:
          type: array
          items:
            type: integer
            writeOnly: true
          writeOnly: true
        subject:
          type: string
          description: Message subject
          maxLength: 200
        body:
          type: string
          minLength: 1
          description: Message body/content
        attachments:
          description: List of attachment URLs
        is_draft:
          type: boolean
          description: Whether this is a draft message
      required:
      - body
      - recipient_ids
    UserMessageUserMinimal:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        email:
          type: string
          format: email
          description: Email address used for login
          maxLength: 254
        full_name:
          type: string
          description: Full name of the user
          maxLength: 150
        role:
          allOf:
          - $ref: '#/components/schemas/RoleEnum'
          description: |-
            User role

            * `student` - Student
            * `teacher` - Teacher
            * `secretary` - Secretary
            * `manager_school` - School Manager
            * `manager_workstream` - Workstream Manager
            * `guardian` - Guardian
            * `admin` - Admin
            * `guest` - Guest
      required:
      - email
      - full_name
      - id
    UserMessageUserMinimalRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          minLength: 1
          description: Email address used for login
          maxLength: 254
        full_name:
          type: string
          minLength: 1
          description: Full name of the user
          maxLength: 150
        role:
          allOf:
          - $ref: '#/components/schemas/RoleEnum'
          description: |-
            User role

            * `student` - Student
            * `teacher` - Teacher
            * `secretary` - Secretary
            * `manager_school` - School Manager
            * `manager_workstream` - Workstream Manager
            * `guardian` - Guardian
            * `admin` - Admin
            * `guest` - Guest
      required:
      - email
      - full_name
    UserOutput:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        email:
          type: string
          format: email
          description: Email address used for login
          maxLength: 254
        full_name:
          type: string
          description: Full name of the user
          maxLength: 150
        role:
          allOf:
          - $ref: '#/components/schemas/RoleEnum'
          description: |-
            User role

            * `student` - Student
            * `teacher` - Teacher
            * `secretary` - Secretary
            * `manager_school` - School Manager
            * `manager_workstream` - Workstream Manager
            * `guardian` - Guardian
            * `admin` - Admin
            * `guest` - Guest
        work_stream:
          type: integer
          nullable: true
          description: Workstream this user belongs to
        work_stream_name:
          type: string
          readOnly: true
        school:
          type: integer
          nullable: true
          description: School this user belongs to
        school_name:
          type: string
          readOnly: true
        is_active:
          type: boolean
        date_joined:
          type: string
          format: date-time
          readOnly: true
      required:
      - date_joined
      - email
      - full_name
      - id
      - school_name
      - work_stream_name
    WorkstreamCreateInputRequest:
      type: object
      properties:
        workstream_name:
          type: string
          minLength: 1
          maxLength: 255
        description:
          type: string
        manager_id:
          type: integer
          nullable: true
        capacity:
          type: integer
          minimum: 1
          default: 100
      required:
      - workstream_name
    WorkstreamDeactivateResponse:
      type: object
      properties:
        message:
          type: string
      required:
      - message
    WorkstreamInfoResponse:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
      required:
      - id
      - name
    WorkstreamLoginInputRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          minLength: 1
          description: User's email address
        password:
          type: string
          writeOnly: true
          minLength: 1
          description: User's password
      required:
      - email
      - password
    WorkstreamOutput:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        workstream_name:
          type: string
        description:
          type: string
          readOnly: true
        manager_id:
          type: integer
        capacity:
          type: integer
          minimum: 1
        is_active:
          type: boolean
      required:
      - description
      - id
    WorkstreamRegisterInputRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          minLength: 1
          description: User's email address
        full_name:
          type: string
          minLength: 1
          description: User's full name
          maxLength: 150
        password:
          type: string
          writeOnly: true
          minLength: 8
          description: Password (min 8 characters)
        password_confirm:
          type: string
          writeOnly: true
          minLength: 8
          description: Confirm password
      required:
      - email
      - full_name
      - password
      - password_confirm
    WorkstreamStudentCount:
      type: object
      properties:
        workstream_id:
          type: integer
          description: Workstream ID
        workstream_name:
          type: string
          description: Workstream Name
        total_students:
          type: integer
          description: Total students in workstream
        school_count:
          type: integer
          description: Number of schools in workstream
        by_school:
          type: array
          items: {}
          description: Student count per school
      required:
      - by_school
      - school_count
      - total_students
      - workstream_id
      - workstream_name
    WorkstreamUpdateInput:
      type: object
      properties:
        workstream_name:
          type: string
        description:
          type: string
        manager_id:
          type: integer
        capacity:
          type: integer
          minimum: 1
        is_active:
          type: boolean
    WorkstreamUpdateInputRequest:
      type: object
      properties:
        workstream_name:
          type: string
          minLength: 1
        description:
          type: string
        manager_id:
          type: integer
        capacity:
          type: integer
          minimum: 1
        is_active:
          type: boolean
  securitySchemes:
    cookieAuth:
      type: apiKey
      in: cookie
      name: sessionid
    jwtAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
